<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
.markmap-dark {
  background: #27272a;
  color: white;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/index.js"></script><script>((r) => {
          setTimeout(r);
        })(() => {
  const { markmap, mm } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute("style", "position:absolute;bottom:20px;right:20px");
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
              if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                document.documentElement.classList.add("markmap-dark");
              }
            })(() => window.markmap,null,{"content":"","children":[{"content":"Manuale base di programmazione dichiarativa con Ansible","children":[{"content":"1. Variabili e assegnazione","children":[{"content":"In Python (imperativo)","children":[{"content":"<pre data-lines=\"14,20\"><code class=\"language-python\">x = <span class=\"hljs-number\">10</span>\ny = <span class=\"hljs-number\">20</span>\nz = x + y\n<span class=\"hljs-built_in\">print</span>(z)  <span class=\"hljs-comment\"># Output: 30</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,20"}}],"payload":{"tag":"h3","lines":"12,13"}},{"content":"In Ansible (dichiarativo)","children":[{"content":"<pre data-lines=\"25,31\"><code class=\"language-yaml\"><span class=\"hljs-attr\">vars:</span>\n  <span class=\"hljs-attr\">x:</span> <span class=\"hljs-number\">10</span>\n  <span class=\"hljs-attr\">y:</span> <span class=\"hljs-number\">20</span>\n  <span class=\"hljs-attr\">z:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ x + y }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"25,31"}}],"payload":{"tag":"h3","lines":"23,24"}}],"payload":{"tag":"h2","lines":"10,11"}},{"content":"2. Condizioni (if/else)","children":[{"content":"In Python (imperativo)","children":[{"content":"<pre data-lines=\"44,51\"><code class=\"language-python\">x = <span class=\"hljs-number\">10</span>\n<span class=\"hljs-keyword\">if</span> x &gt; <span class=\"hljs-number\">5</span>:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;Maggiore di 5&quot;</span>)\n<span class=\"hljs-keyword\">else</span>:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;Minore o uguale a 5&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"44,51"}}],"payload":{"tag":"h3","lines":"42,43"}},{"content":"In Ansible (dichiarativo)","children":[{"content":"<pre data-lines=\"54,66\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Verifica</span> <span class=\"hljs-string\">valore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">x</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Maggiore di 5&quot;</span>\n    <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">5</span>\n\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Altrimenti</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Minore o uguale a 5&quot;</span>\n    <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&lt;=</span> <span class=\"hljs-number\">5</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"54,66"}}],"payload":{"tag":"h3","lines":"52,53"}}],"payload":{"tag":"h2","lines":"40,41"}},{"content":"3. Cicli / iterazioni (loop)","children":[{"content":"In Python (imperativo)","children":[{"content":"<pre data-lines=\"79,83\"><code class=\"language-python\"><span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">3</span>):\n    <span class=\"hljs-built_in\">print</span>(i)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"79,83"}}],"payload":{"tag":"h3","lines":"77,78"}},{"content":"In Ansible (dichiarativo)","children":[{"content":"<pre data-lines=\"86,96\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Loop</span> <span class=\"hljs-string\">da</span> <span class=\"hljs-number\">0</span> <span class=\"hljs-string\">a</span> <span class=\"hljs-number\">2</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Indice: <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n    <span class=\"hljs-attr\">loop:</span> \n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-number\">0</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-number\">1</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-number\">2</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"86,96"}}],"payload":{"tag":"h3","lines":"84,85"}}],"payload":{"tag":"h2","lines":"75,76"}},{"content":"4. Modularit&#xe0; e riusabilit&#xe0;","children":[{"content":"In Python","children":[{"content":"<pre data-lines=\"109,116\"><code class=\"language-python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">saluta</span>(<span class=\"hljs-params\">nome</span>):\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Ciao <span class=\"hljs-subst\">{nome}</span>&quot;</span>)\n\nsaluta(<span class=\"hljs-string\">&quot;Mario&quot;</span>)\nsaluta(<span class=\"hljs-string\">&quot;Luca&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"109,116"}}],"payload":{"tag":"h3","lines":"107,108"}},{"content":"In Ansible (ruoli e include)","children":[{"content":"<pre data-lines=\"119,130\"><code class=\"language-yaml\"><span class=\"hljs-comment\"># playbook.yml</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">all</span>\n  <span class=\"hljs-attr\">roles:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">saluto</span>\n\n<span class=\"hljs-comment\"># roles/saluto/tasks/main.yml</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">l&apos;utente</span>\n  <span class=\"hljs-attr\">debug:</span>\n    <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ nome }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"119,130"}}],"payload":{"tag":"h3","lines":"117,118"}}],"payload":{"tag":"h2","lines":"105,106"}},{"content":"5. Esempio completo: condizione + ciclo + variabili","children":[{"content":"<pre data-lines=\"141,155\"><code class=\"language-yaml\"><span class=\"hljs-attr\">vars:</span>\n  <span class=\"hljs-attr\">utenti:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mario</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">luca</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">anna</span>\n\n<span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">solo</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">nome</span> <span class=\"hljs-string\">ha</span> <span class=\"hljs-string\">pi&#xf9;</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-number\">3</span> <span class=\"hljs-string\">lettere</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n    <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ utenti }}</span>&quot;</span>\n    <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">item</span> <span class=\"hljs-string\">|</span> <span class=\"hljs-string\">length</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"141,155"}}],"payload":{"tag":"h2","lines":"139,140"}},{"content":"6. Confronto rapido: Imperativo vs Dichiarativo per il caso saluto","children":[{"content":"<table data-lines=\"166,173\">\n<thead data-lines=\"166,167\">\n<tr data-lines=\"166,167\">\n<th>Aspetto</th>\n<th>Python Imperativo</th>\n<th>Ansible Dichiarativo</th>\n</tr>\n</thead>\n<tbody data-lines=\"168,173\">\n<tr data-lines=\"168,169\">\n<td>Definizione flusso</td>\n<td>Scrivi esattamente <em>come</em> iterare e controllare</td>\n<td>Descrivi <em>cosa</em> fare e quando (loop e when)</td>\n</tr>\n<tr data-lines=\"169,170\">\n<td>Stato variabile</td>\n<td>Variabile <code>i</code> mutata nel ciclo</td>\n<td><code>item</code> fornito dal motore durante il loop</td>\n</tr>\n<tr data-lines=\"170,171\">\n<td>Controllo flusso</td>\n<td><code>if</code>/<code>else</code> esplicito</td>\n<td><code>when</code> su task, nessun blocco condizionale esplicito</td>\n</tr>\n<tr data-lines=\"171,172\">\n<td>Riusabilit&#xe0;</td>\n<td>Funzioni</td>\n<td>Ruoli e include</td>\n</tr>\n<tr data-lines=\"172,173\">\n<td>Idempotenza</td>\n<td>Nessuna garanzia, l&#x2019;esecuzione dipende dal codice</td>\n<td>Garantita tramite stato desiderato, ripetibile senza errori</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"166,173"}}],"payload":{"tag":"h2","lines":"164,165"}}],"payload":{"tag":"h1","lines":"6,7"}},{"content":"Conclusione","children":[{"content":"Usare Ansible per insegnare i concetti base di programmazione &#xe8; possibile ma richiede un cambio di mentalit&#xe0;, spostando il focus dal <em>come</em> al <em>cosa</em>.","children":[],"payload":{"tag":"li","lines":"178,179"}},{"content":"Il codice diventa pi&#xf9; descrittivo e meno &#x201c;istruzionale&#x201d;.","children":[],"payload":{"tag":"li","lines":"179,180"}},{"content":"Le strutture di controllo si traducono in condizioni associate a task pi&#xf9; che in blocchi di codice.","children":[],"payload":{"tag":"li","lines":"180,181"}},{"content":"Modularit&#xe0; e riusabilit&#xe0; sono gestite tramite ruoli e include.","children":[],"payload":{"tag":"li","lines":"181,182"}},{"content":"Puoi affiancare esempi in Python per chiarire i concetti e mostrare le differenze.","children":[],"payload":{"tag":"li","lines":"182,184"}}],"payload":{"tag":"h1","lines":"176,177"}},{"content":"&#x1f4da; Manuale di Programmazione Base con Ansible (dichiarativo)","children":[{"content":"Obiettivo","children":[{"content":"Insegnare i concetti base della programmazione (variabili, condizioni, cicli, modularit&#xe0;) in modo dichiarativo usando Ansible.","children":[],"payload":{"tag":"li","lines":"202,203"}},{"content":"Favorire il passaggio mentale dal paradigma imperativo a quello dichiarativo.","children":[],"payload":{"tag":"li","lines":"203,204"}},{"content":"Fornire esempi pratici con codice Ansible commentato e confronti con Python.","children":[],"payload":{"tag":"li","lines":"204,205"}},{"content":"Costruire un percorso di apprendimento con esempi progressivi e spiegazioni semplici.","children":[],"payload":{"tag":"li","lines":"205,206"}},{"content":"Preparare una base per un testo/manuale o corso didattico.","children":[],"payload":{"tag":"li","lines":"206,208"}}],"payload":{"tag":"h2","lines":"200,201"}}],"payload":{"tag":"h1","lines":"196,197"}},{"content":"Struttura del progetto","children":[{"content":"<pre data-lines=\"212,235\"><code data-lines=\"212,235\">ansible-declarative-tutorial/\n&#x251c;&#x2500;&#x2500; README<span class=\"hljs-selector-class\">.md</span>\n&#x251c;&#x2500;&#x2500; docs/\n&#x2502;   &#x251c;&#x2500;&#x2500; <span class=\"hljs-number\">01</span>_intro<span class=\"hljs-selector-class\">.md</span>\n&#x2502;   &#x251c;&#x2500;&#x2500; <span class=\"hljs-number\">02</span>_variabili<span class=\"hljs-selector-class\">.md</span>\n&#x2502;   &#x251c;&#x2500;&#x2500; <span class=\"hljs-number\">03</span>_condizioni<span class=\"hljs-selector-class\">.md</span>\n&#x2502;   &#x251c;&#x2500;&#x2500; <span class=\"hljs-number\">04</span>_cicli<span class=\"hljs-selector-class\">.md</span>\n&#x2502;   &#x251c;&#x2500;&#x2500; <span class=\"hljs-number\">05</span>_modularita<span class=\"hljs-selector-class\">.md</span>\n&#x2502;   &#x2514;&#x2500;&#x2500; <span class=\"hljs-number\">06</span>_esempi_completi<span class=\"hljs-selector-class\">.md</span>\n&#x251c;&#x2500;&#x2500; examples/\n&#x2502;   &#x251c;&#x2500;&#x2500; variables<span class=\"hljs-selector-class\">.yml</span>\n&#x2502;   &#x251c;&#x2500;&#x2500; conditions<span class=\"hljs-selector-class\">.yml</span>\n&#x2502;   &#x251c;&#x2500;&#x2500; loops<span class=\"hljs-selector-class\">.yml</span>\n&#x2502;   &#x251c;&#x2500;&#x2500; roles/\n&#x2502;   &#x2502;   &#x2514;&#x2500;&#x2500; saluto/\n&#x2502;   &#x2502;       &#x251c;&#x2500;&#x2500; tasks/\n&#x2502;   &#x2502;       &#x2502;   &#x2514;&#x2500;&#x2500; <span class=\"hljs-selector-tag\">main</span><span class=\"hljs-selector-class\">.yml</span>\n&#x2502;   &#x2502;       &#x2514;&#x2500;&#x2500; README<span class=\"hljs-selector-class\">.md</span>\n&#x2502;   &#x2514;&#x2500;&#x2500; complete_example<span class=\"hljs-selector-class\">.yml</span>\n&#x251c;&#x2500;&#x2500; requirements<span class=\"hljs-selector-class\">.txt</span>\n&#x2514;&#x2500;&#x2500; LICENSE\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"212,235"}}],"payload":{"tag":"h1","lines":"210,211"}},{"content":"Contenuto chiave dei file","children":[{"content":"Esecuzione esempi","children":[{"content":"<pre data-lines=\"273,276\"><code class=\"language-bash\">ansible-playbook examples/variables.yml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"273,276"}}],"payload":{"tag":"h2","lines":"271,272"}},{"content":"Contributi","children":[],"payload":{"tag":"h2","lines":"277,278"}},{"content":"Licenza","children":[{"content":"examples/variables.yml","children":[{"content":"<pre data-lines=\"309,325\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-comment\"># Esempio di uso di variabili in Ansible</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">x:</span> <span class=\"hljs-number\">10</span>\n    <span class=\"hljs-attr\">y:</span> <span class=\"hljs-number\">20</span>\n    <span class=\"hljs-attr\">z:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ x + y }}</span>&quot;</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Mostra</span> <span class=\"hljs-string\">il</span> <span class=\"hljs-string\">valore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">z</span> <span class=\"hljs-string\">(x</span> <span class=\"hljs-string\">+</span> <span class=\"hljs-string\">y)</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Il valore di z &#xe8; <span class=\"hljs-template-variable\">{{ z }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"309,325"}}],"payload":{"tag":"h3","lines":"307,308"}},{"content":"examples/conditions.yml","children":[{"content":"<pre data-lines=\"330,350\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-comment\"># Esempio di condizioni in Ansible</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">x:</span> <span class=\"hljs-number\">10</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Messaggio</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">maggiore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-number\">5</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; maggiore di 5&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">5</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Messaggio</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">minore</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">uguale</span> <span class=\"hljs-string\">a</span> <span class=\"hljs-number\">5</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; minore o uguale a 5&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&lt;=</span> <span class=\"hljs-number\">5</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"330,350"}}],"payload":{"tag":"h3","lines":"328,329"}},{"content":"examples/loops.yml","children":[{"content":"<pre data-lines=\"355,373\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-comment\"># Esempio di ciclo (loop) in Ansible</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">users:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mario</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">luca</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">anna</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluto</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">ogni</span> <span class=\"hljs-string\">utente</span> <span class=\"hljs-string\">nella</span> <span class=\"hljs-string\">lista</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ users }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"355,373"}}],"payload":{"tag":"h3","lines":"353,354"}},{"content":"examples/roles/saluto/tasks/main.yml","children":[{"content":"<pre data-lines=\"378,386\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-comment\"># Ruolo Ansible per saluto personalizzato</span>\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">l&apos;utente</span>\n  <span class=\"hljs-attr\">debug:</span>\n    <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ nome }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"378,386"}}],"payload":{"tag":"h3","lines":"376,377"}},{"content":"examples/complete_example.yml","children":[{"content":"<pre data-lines=\"391,418\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-comment\"># Esempio completo con variabili, condizioni, cicli e ruolo</span>\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">utenti:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mario</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">luca</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">anna</span>\n\n  <span class=\"hljs-attr\">roles:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">role:</span> <span class=\"hljs-string\">saluto</span>\n      <span class=\"hljs-attr\">vars:</span>\n        <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;default&quot;</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">solo</span> <span class=\"hljs-string\">utenti</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">nome</span> <span class=\"hljs-string\">lungo</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">3</span> <span class=\"hljs-string\">caratteri</span>\n      <span class=\"hljs-attr\">include_role:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">saluto</span>\n      <span class=\"hljs-attr\">vars:</span>\n        <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ utenti }}</span>&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">item</span> <span class=\"hljs-string\">|</span> <span class=\"hljs-string\">length</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"391,418"}}],"payload":{"tag":"h3","lines":"389,390"}},{"content":"requirements.txt","children":[{"content":"<pre data-lines=\"423,426\"><code data-lines=\"423,426\"><span class=\"hljs-attribute\">ansible</span>&gt;=<span class=\"hljs-number\">2</span>.<span class=\"hljs-number\">10</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"423,426"}}],"payload":{"tag":"h3","lines":"421,422"}},{"content":"LICENSE","children":[{"content":"<pre data-lines=\"431,439\"><code class=\"language-text\">MIT License\n\nCopyright (c) 2025 [Tuo Nome]\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\n...\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"431,439"}}],"payload":{"tag":"h3","lines":"429,430"}}],"payload":{"tag":"h2","lines":"283,284"}}],"payload":{"tag":"h1","lines":"238,239"}},{"content":"Prossimi passi","children":[{"content":"1. <code>README.md</code>","children":[{"content":"<pre data-lines=\"461,489\"><code class=\"language-markdown\"><span class=\"hljs-section\"># Manuale di Programmazione Base con Ansible (Dichiarativo)</span>\n\nQuesto progetto &#xe8; un tutorial/manuale per apprendere i fondamenti della programmazione usando Ansible, con un focus sul paradigma dichiarativo.\n\n<span class=\"hljs-section\">## Obiettivi</span>\n\n<span class=\"hljs-bullet\">-</span> Imparare variabili, condizioni, cicli, modularit&#xe0; usando Ansible.\n<span class=\"hljs-bullet\">-</span> Comprendere differenze tra programmazione imperativa e dichiarativa.\n<span class=\"hljs-bullet\">-</span> Esempi pratici e confronto con Python.\n<span class=\"hljs-bullet\">-</span> Preparare la base per corsi o testi didattici.\n\n<span class=\"hljs-section\">## Struttura</span>\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`docs/`</span>: capitoli del tutorial in Markdown.\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`examples/`</span>: playbook e ruoli Ansible esemplificativi.\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`requirements.txt`</span>: dipendenze (es. Ansible).\n\n<span class=\"hljs-section\">## Prerequisiti</span>\n\n<span class=\"hljs-bullet\">-</span> Python 3.8+\n<span class=\"hljs-bullet\">-</span> Ansible 2.10+\n\n<span class=\"hljs-section\">## Installazione</span>\n\n<span class=\"hljs-code\">```bash\npip install -r requirements.txt\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"461,489"}}],"payload":{"tag":"h2","lines":"459,460"}},{"content":"Esecuzione esempi","children":[{"content":"<pre data-lines=\"492,495\"><code class=\"language-bash\">ansible-playbook examples/variables.yml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"492,495"}}],"payload":{"tag":"h2","lines":"490,491"}},{"content":"Contributi","children":[],"payload":{"tag":"h2","lines":"496,497"}},{"content":"Licenza","children":[{"content":"<pre data-lines=\"506,513\"><code data-lines=\"506,513\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\">## 2. `requirements.txt`</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"506,513"}},{"content":"<pre data-lines=\"516,533\"><code data-lines=\"516,533\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\">## 3. `docs/01_intro.md`</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Introduzione</span>\n\n<span class=\"hljs-string\">Questo</span> <span class=\"hljs-string\">tutorial</span> <span class=\"hljs-string\">usa</span> <span class=\"hljs-string\">Ansible</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">insegnare</span> <span class=\"hljs-string\">i</span> <span class=\"hljs-string\">concetti</span> <span class=\"hljs-string\">base</span> <span class=\"hljs-string\">della</span> <span class=\"hljs-string\">programmazione</span> <span class=\"hljs-string\">in</span> <span class=\"hljs-string\">modo</span> <span class=\"hljs-string\">dichiarativo.</span>\n\n<span class=\"hljs-string\">Cos&apos;&#xe8;</span> <span class=\"hljs-string\">la</span> <span class=\"hljs-string\">programmazione</span> <span class=\"hljs-string\">dichiarativa?</span> <span class=\"hljs-string\">Contrariamente</span> <span class=\"hljs-string\">alla</span> <span class=\"hljs-string\">programmazione</span> <span class=\"hljs-string\">imperativa,</span> <span class=\"hljs-string\">descrive</span> <span class=\"hljs-string\">il</span> <span class=\"hljs-string\">*cosa*</span> <span class=\"hljs-string\">fare,</span> <span class=\"hljs-string\">non</span> <span class=\"hljs-string\">il</span> <span class=\"hljs-string\">*come*.</span>\n\n<span class=\"hljs-string\">Ansible</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">uno</span> <span class=\"hljs-string\">strumento</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">automazione</span> <span class=\"hljs-string\">dichiarativo</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">permette</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">definire</span> <span class=\"hljs-string\">lo</span> <span class=\"hljs-string\">stato</span> <span class=\"hljs-string\">desiderato.</span>\n\n<span class=\"hljs-string\">Nei</span> <span class=\"hljs-string\">capitoli</span> <span class=\"hljs-string\">successivi</span> <span class=\"hljs-string\">vedremo</span> <span class=\"hljs-string\">come</span> <span class=\"hljs-string\">usare</span> <span class=\"hljs-string\">variabili,</span> <span class=\"hljs-string\">condizioni,</span> <span class=\"hljs-string\">cicli</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">modularit&#xe0;.</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"516,533"}}],"payload":{"tag":"h2","lines":"502,503"}},{"content":"4. <code>docs/02_variabili.md</code>","children":[{"content":"<pre data-lines=\"538,551\"><code class=\"language-markdown\"><span class=\"hljs-section\"># Variabili in Ansible</span>\n\nLe variabili sono contenitori di valori. In Ansible sono usate per parametrizzare i playbook.\n\nEsempio:\n\n<span class=\"hljs-code\">```yaml\nvars:\n  x: 10\n  y: 20\n  somma: &quot;{{ x + y }}&quot;\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"538,551"}},{"content":"<pre data-lines=\"556,561\"><code class=\"language-python\">x = 10\ny = 20\nsomma = x + y\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"556,561"}},{"content":"<pre data-lines=\"562,582\"><code data-lines=\"562,582\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\">## 5. `docs/03_condizioni.md`</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Condizioni (when)</span>\n\n<span class=\"hljs-string\">Le</span> <span class=\"hljs-string\">condizioni</span> <span class=\"hljs-string\">permettono</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">eseguire</span> <span class=\"hljs-string\">task</span> <span class=\"hljs-string\">solo</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">una</span> <span class=\"hljs-string\">condizione</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">vera.</span>\n\n<span class=\"hljs-attr\">Esempio Ansible:</span>\n\n<span class=\"hljs-string\">```yaml</span>\n<span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Messaggio</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">5</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; maggiore di 5&quot;</span>\n    <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">5</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"562,582"}},{"content":"<pre data-lines=\"585,589\"><code class=\"language-python\"><span class=\"hljs-keyword\">if</span> x &gt; <span class=\"hljs-number\">5</span>:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;x &#xe8; maggiore di 5&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"585,589"}},{"content":"<pre data-lines=\"590,613\"><code data-lines=\"590,613\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\">## 6. `docs/04_cicli.md`</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Cicli (loop)</span>\n\n<span class=\"hljs-string\">Ansible</span> <span class=\"hljs-string\">permette</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">iterare</span> <span class=\"hljs-string\">su</span> <span class=\"hljs-string\">liste</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">`loop`.</span>\n\n<span class=\"hljs-attr\">Esempio:</span>\n\n<span class=\"hljs-string\">```yaml</span>\n<span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">utenti</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n    <span class=\"hljs-attr\">loop:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Mario</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Luca</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Anna</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"590,613"}},{"content":"<pre data-lines=\"616,620\"><code class=\"language-python\"><span class=\"hljs-keyword\">for</span> user <span class=\"hljs-keyword\">in</span> [<span class=\"hljs-string\">&quot;Mario&quot;</span>, <span class=\"hljs-string\">&quot;Luca&quot;</span>, <span class=\"hljs-string\">&quot;Anna&quot;</span>]:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Ciao <span class=\"hljs-subst\">{user}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"616,620"}},{"content":"<pre data-lines=\"621,635\"><code data-lines=\"621,635\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\">## 7. `docs/05_modularita.md`</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Modularit&#xe0; con Ruoli</span>\n\n<span class=\"hljs-string\">I</span> <span class=\"hljs-string\">ruoli</span> <span class=\"hljs-string\">permettono</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">organizzare</span> <span class=\"hljs-string\">playbook</span> <span class=\"hljs-string\">complessi</span> <span class=\"hljs-string\">in</span> <span class=\"hljs-string\">moduli</span> <span class=\"hljs-string\">riutilizzabili.</span>\n\n<span class=\"hljs-attr\">Struttura tipica di un ruolo:</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"621,635"}},{"content":"<pre data-lines=\"642,651\"><code data-lines=\"642,651\">\nEsempio <span class=\"hljs-params\">task:</span>\n\n```yaml\n<span class=\"hljs-operator\">-</span> <span class=\"hljs-params\">name:</span> Saluto personalizzato\n  <span class=\"hljs-params\">debug:</span>\n    <span class=\"hljs-params\">msg:</span> <span class=\"hljs-string\">&quot;Ciao {{ nome }}&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"642,651"}},{"content":"<pre data-lines=\"654,660\"><code class=\"language-yaml\"><span class=\"hljs-attr\">roles:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">role:</span> <span class=\"hljs-string\">saluto</span>\n    <span class=\"hljs-attr\">vars:</span>\n      <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;Mario&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"654,660"}},{"content":"<pre data-lines=\"661,682\"><code data-lines=\"661,682\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\">## 8. `examples/variables.yml`</span>\n\n<span class=\"hljs-string\">```yaml</span>\n<span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">x:</span> <span class=\"hljs-number\">10</span>\n    <span class=\"hljs-attr\">y:</span> <span class=\"hljs-number\">20</span>\n    <span class=\"hljs-attr\">z:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ x + y }}</span>&quot;</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Mostra</span> <span class=\"hljs-string\">il</span> <span class=\"hljs-string\">valore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">z</span> <span class=\"hljs-string\">(x</span> <span class=\"hljs-string\">+</span> <span class=\"hljs-string\">y)</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Il valore di z &#xe8; <span class=\"hljs-template-variable\">{{ z }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"661,682"}}],"payload":{"tag":"h2","lines":"536,537"}},{"content":"9. <code>examples/conditions.yml</code>","children":[{"content":"<pre data-lines=\"687,706\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">x:</span> <span class=\"hljs-number\">10</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Messaggio</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">maggiore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-number\">5</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; maggiore di 5&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">5</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Messaggio</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">minore</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">uguale</span> <span class=\"hljs-string\">a</span> <span class=\"hljs-number\">5</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; minore o uguale a 5&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&lt;=</span> <span class=\"hljs-number\">5</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"687,706"}}],"payload":{"tag":"h2","lines":"685,686"}},{"content":"10. <code>examples/loops.yml</code>","children":[{"content":"<pre data-lines=\"711,728\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">users:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mario</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">luca</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">anna</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluto</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">ogni</span> <span class=\"hljs-string\">utente</span> <span class=\"hljs-string\">nella</span> <span class=\"hljs-string\">lista</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ users }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"711,728"}}],"payload":{"tag":"h2","lines":"709,710"}},{"content":"11. <code>examples/roles/saluto/tasks/main.yml</code>","children":[{"content":"<pre data-lines=\"733,739\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">l&apos;utente</span>\n  <span class=\"hljs-attr\">debug:</span>\n    <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ nome }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"733,739"}}],"payload":{"tag":"h2","lines":"731,732"}},{"content":"12. <code>examples/complete_example.yml</code>","children":[{"content":"<pre data-lines=\"744,769\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">false</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">utenti:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mario</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">luca</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">anna</span>\n\n  <span class=\"hljs-attr\">roles:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">role:</span> <span class=\"hljs-string\">saluto</span>\n      <span class=\"hljs-attr\">vars:</span>\n        <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;default&quot;</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">solo</span> <span class=\"hljs-string\">utenti</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">nome</span> <span class=\"hljs-string\">lungo</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">3</span> <span class=\"hljs-string\">caratteri</span>\n      <span class=\"hljs-attr\">include_role:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">saluto</span>\n      <span class=\"hljs-attr\">vars:</span>\n        <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ utenti }}</span>&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">item</span> <span class=\"hljs-string\">|</span> <span class=\"hljs-string\">length</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"744,769"}}],"payload":{"tag":"h2","lines":"742,743"}},{"content":"13. <code>LICENSE</code>","children":[{"content":"<pre data-lines=\"774,788\"><code class=\"language-text\">MIT License\n\nCopyright (c) 2025 [Tuo Nome]\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the &quot;Software&quot;), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\n[...standard MIT text...]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"774,788"}}],"payload":{"tag":"h2","lines":"772,773"}}],"payload":{"tag":"h1","lines":"442,443"}},{"content":"Conclusione","children":[],"payload":{"tag":"h1","lines":"791,792"}},{"content":"Capitolo 1: Introduzione","children":[{"content":"Perch&#xe9; imparare con Ansible?","children":[{"content":"&#xc8; un linguaggio dichiarativo, ampiamente usato in automazione.","children":[],"payload":{"tag":"li","lines":"845,846"}},{"content":"Permette di imparare concetti di programmazione in modo semplice.","children":[],"payload":{"tag":"li","lines":"846,847"}},{"content":"La sintassi YAML &#xe8; leggibile e pulita.","children":[],"payload":{"tag":"li","lines":"847,848"}},{"content":"Offre strumenti per variabili, condizioni, cicli e modularit&#xe0;.","children":[],"payload":{"tag":"li","lines":"848,850"}}],"payload":{"tag":"h2","lines":"843,844"}},{"content":"Struttura di un Playbook Ansible","children":[{"content":"<pre data-lines=\"860,868\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Stampa</span> <span class=\"hljs-string\">un</span> <span class=\"hljs-string\">messaggio</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao, mondo!&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"860,868"}}],"payload":{"tag":"h2","lines":"850,851"}},{"content":"Obiettivi del tutorial","children":[{"content":"<pre data-lines=\"880,905\"><code data-lines=\"880,905\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Capitolo 2: Variabili</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Capitolo 2: Variabili in Ansible</span>\n\n<span class=\"hljs-comment\">## Cos&apos;&#xe8; una Variabile?</span>\n\n<span class=\"hljs-string\">Una</span> <span class=\"hljs-string\">variabile</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">un</span> <span class=\"hljs-string\">contenitore</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">memorizza</span> <span class=\"hljs-string\">un</span> <span class=\"hljs-string\">valore</span> <span class=\"hljs-string\">(numero,</span> <span class=\"hljs-string\">testo,</span> <span class=\"hljs-string\">lista,</span> <span class=\"hljs-string\">ecc.)</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">pu&#xf2;</span> <span class=\"hljs-string\">cambiare.</span>\n\n<span class=\"hljs-comment\">## Definire Variabili</span>\n\n<span class=\"hljs-string\">In</span> <span class=\"hljs-string\">Ansible,</span> <span class=\"hljs-string\">si</span> <span class=\"hljs-string\">definiscono</span> <span class=\"hljs-string\">usando</span> <span class=\"hljs-string\">la</span> <span class=\"hljs-string\">sezione</span> <span class=\"hljs-string\">`vars:`:</span>\n\n<span class=\"hljs-string\">```yaml</span>\n<span class=\"hljs-attr\">vars:</span>\n  <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;Mario&quot;</span>\n  <span class=\"hljs-attr\">eta:</span> <span class=\"hljs-number\">30</span>\n  <span class=\"hljs-attr\">hobbies:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">calcio</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">musica</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"880,905"}}],"payload":{"tag":"h2","lines":"871,872"}},{"content":"Usare Variabili","children":[{"content":"<pre data-lines=\"910,916\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluto</span> <span class=\"hljs-string\">personalizzato</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ nome }}</span>, hai <span class=\"hljs-template-variable\">{{ eta }}</span> anni.&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"910,916"}}],"payload":{"tag":"h2","lines":"906,907"}},{"content":"Tipi di Variabili","children":[{"content":"Numeri (interi, float)","children":[],"payload":{"tag":"li","lines":"919,920"}},{"content":"Stringhe","children":[],"payload":{"tag":"li","lines":"920,921"}},{"content":"Liste","children":[],"payload":{"tag":"li","lines":"921,922"}},{"content":"Dizionari","children":[],"payload":{"tag":"li","lines":"922,924"}}],"payload":{"tag":"h2","lines":"917,918"}},{"content":"Esempio Completo","children":[{"content":"<pre data-lines=\"926,951\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">no</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;Anna&quot;</span>\n    <span class=\"hljs-attr\">eta:</span> <span class=\"hljs-number\">25</span>\n    <span class=\"hljs-attr\">hobbies:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">lettura</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">viaggio</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Stampa</span> <span class=\"hljs-string\">il</span> <span class=\"hljs-string\">nome</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Nome: <span class=\"hljs-template-variable\">{{ nome }}</span>&quot;</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Conta</span> <span class=\"hljs-string\">hobby</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Hai <span class=\"hljs-template-variable\">{{ hobbies | length }}</span> hobby&quot;</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Primo</span> <span class=\"hljs-string\">hobby</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Il primo hobby &#xe8; <span class=\"hljs-template-variable\">{{ hobbies[0] }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"926,951"}}],"payload":{"tag":"h2","lines":"924,925"}},{"content":"Confronto con Python","children":[{"content":"<pre data-lines=\"954,963\"><code class=\"language-python\">nome = <span class=\"hljs-string\">&quot;Anna&quot;</span>\neta = <span class=\"hljs-number\">25</span>\nhobbies = [<span class=\"hljs-string\">&quot;lettura&quot;</span>, <span class=\"hljs-string\">&quot;viaggio&quot;</span>]\n\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Nome: <span class=\"hljs-subst\">{nome}</span>&quot;</span>)\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Hai <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">len</span>(hobbies)}</span> hobby&quot;</span>)\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Il primo hobby &#xe8; <span class=\"hljs-subst\">{hobbies[<span class=\"hljs-number\">0</span>]}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"954,963"}}],"payload":{"tag":"h2","lines":"952,953"}},{"content":"Note","children":[{"content":"<pre data-lines=\"973,995\"><code data-lines=\"973,995\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Capitolo 3: Condizioni</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Capitolo 3: Condizioni con `when`</span>\n\n<span class=\"hljs-comment\">## Perch&#xe9; servono le condizioni?</span>\n\n<span class=\"hljs-string\">Le</span> <span class=\"hljs-string\">condizioni</span> <span class=\"hljs-string\">permettono</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">eseguire</span> <span class=\"hljs-string\">certe</span> <span class=\"hljs-string\">azioni</span> <span class=\"hljs-string\">solo</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">una</span> <span class=\"hljs-string\">condizione</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">vera.</span>\n\n<span class=\"hljs-comment\">## Sintassi base</span>\n\n<span class=\"hljs-string\">```yaml</span>\n<span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Esegui</span> <span class=\"hljs-string\">solo</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&#xe8;</span> <span class=\"hljs-string\">maggiore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-number\">10</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; grande!&quot;</span>\n    <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">10</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"973,995"}}],"payload":{"tag":"h2","lines":"966,967"}},{"content":"Esempio completo","children":[{"content":"<pre data-lines=\"998,1017\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">no</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">x:</span> <span class=\"hljs-number\">15</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Controlla</span> <span class=\"hljs-string\">valore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">x</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; pi&#xf9; grande di 10&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&gt;</span> <span class=\"hljs-number\">10</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Altrimenti</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;x &#xe8; 10 o meno&quot;</span>\n      <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">x</span> <span class=\"hljs-string\">&lt;=</span> <span class=\"hljs-number\">10</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"998,1017"}}],"payload":{"tag":"h2","lines":"996,997"}},{"content":"Operatori supportati","children":[{"content":"<code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>","children":[],"payload":{"tag":"li","lines":"1020,1021"}},{"content":"operatori logici: <code>and</code>, <code>or</code>, <code>not</code>","children":[],"payload":{"tag":"li","lines":"1021,1023"}}],"payload":{"tag":"h2","lines":"1018,1019"}},{"content":"Confronto Python","children":[{"content":"<pre data-lines=\"1025,1033\"><code class=\"language-python\">x = <span class=\"hljs-number\">15</span>\n\n<span class=\"hljs-keyword\">if</span> x &gt; <span class=\"hljs-number\">10</span>:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;x &#xe8; pi&#xf9; grande di 10&quot;</span>)\n<span class=\"hljs-keyword\">else</span>:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;x &#xe8; 10 o meno&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1025,1033"}}],"payload":{"tag":"h2","lines":"1023,1024"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1042,1067\"><code data-lines=\"1042,1067\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Capitolo 4: Cicli</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Capitolo 4: Cicli con `loop`</span>\n\n<span class=\"hljs-comment\">## Cos&apos;&#xe8; un ciclo?</span>\n\n<span class=\"hljs-string\">Un</span> <span class=\"hljs-string\">ciclo</span> <span class=\"hljs-string\">ripete</span> <span class=\"hljs-string\">un&#x2019;azione</span> <span class=\"hljs-string\">pi&#xf9;</span> <span class=\"hljs-string\">volte,</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">ogni</span> <span class=\"hljs-string\">elemento</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">una</span> <span class=\"hljs-string\">lista</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">intervallo.</span>\n\n<span class=\"hljs-comment\">## Sintassi base con `loop`</span>\n\n<span class=\"hljs-string\">```yaml</span>\n<span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">utenti</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n    <span class=\"hljs-attr\">loop:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Mario</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Lucia</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Anna</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1042,1067"}}],"payload":{"tag":"h2","lines":"1036,1037"}},{"content":"Variabili nella lista","children":[],"payload":{"tag":"h2","lines":"1068,1069"}},{"content":"Esempio completo","children":[{"content":"<pre data-lines=\"1074,1091\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">no</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">utenti:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mario</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">lucia</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">anna</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluta</span> <span class=\"hljs-string\">ogni</span> <span class=\"hljs-string\">utente</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ utenti }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1074,1091"}}],"payload":{"tag":"h2","lines":"1072,1073"}},{"content":"Loop con indici","children":[{"content":"<pre data-lines=\"1096,1103\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Conta</span> <span class=\"hljs-string\">da</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-string\">a</span> <span class=\"hljs-number\">5</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Numero <span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n    <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ range(1,6) | list }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1096,1103"}}],"payload":{"tag":"h2","lines":"1092,1093"}},{"content":"Confronto Python","children":[{"content":"<pre data-lines=\"1106,1115\"><code class=\"language-python\">utenti = [<span class=\"hljs-string\">&quot;mario&quot;</span>, <span class=\"hljs-string\">&quot;lucia&quot;</span>, <span class=\"hljs-string\">&quot;anna&quot;</span>]\n\n<span class=\"hljs-keyword\">for</span> utente <span class=\"hljs-keyword\">in</span> utenti:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Ciao <span class=\"hljs-subst\">{utente}</span>&quot;</span>)\n\n<span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">6</span>):\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Numero <span class=\"hljs-subst\">{i}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1106,1115"}}],"payload":{"tag":"h2","lines":"1104,1105"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1125,1141\"><code data-lines=\"1125,1141\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Capitolo 5: Modularit&#xe0;</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Capitolo 5: Modularit&#xe0; con Ruoli</span>\n\n<span class=\"hljs-comment\">## Perch&#xe9; modularizzare?</span>\n\n<span class=\"hljs-string\">I</span> <span class=\"hljs-string\">ruoli</span> <span class=\"hljs-string\">aiutano</span> <span class=\"hljs-string\">a</span> <span class=\"hljs-string\">organizzare</span> <span class=\"hljs-string\">playbook</span> <span class=\"hljs-string\">complessi</span> <span class=\"hljs-string\">in</span> <span class=\"hljs-string\">parti</span> <span class=\"hljs-string\">riutilizzabili.</span>\n\n<span class=\"hljs-comment\">## Struttura di un ruolo</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1125,1141"}},{"content":"<pre data-lines=\"1150,1161\"><code data-lines=\"1150,1161\">\n<span class=\"hljs-comment\">## Come usare un ruolo</span>\n\n<span class=\"hljs-attribute\">Nel playbook</span><span class=\"hljs-punctuation\">:\n</span>\n<span class=\"hljs-attribute\">```yaml\n- hosts</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attribute\">roles</span><span class=\"hljs-punctuation\">:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mio_ruolo</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1150,1161"}}],"payload":{"tag":"h2","lines":"1118,1119"}},{"content":"Esempio ruolo <code>saluto</code>","children":[{"content":"<pre data-lines=\"1166,1171\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Saluto</span> <span class=\"hljs-string\">personalizzato</span>\n  <span class=\"hljs-attr\">debug:</span>\n    <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Ciao <span class=\"hljs-template-variable\">{{ nome }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1166,1171"}},{"content":"<pre data-lines=\"1174,1185\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">no</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;Luca&quot;</span>\n\n  <span class=\"hljs-attr\">roles:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">saluto</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1174,1185"}}],"payload":{"tag":"h2","lines":"1162,1163"}},{"content":"Vantaggi","children":[{"content":"Riutilizzo","children":[],"payload":{"tag":"li","lines":"1188,1189"}},{"content":"Separazione di responsabilit&#xe0;","children":[],"payload":{"tag":"li","lines":"1189,1190"}},{"content":"Facilit&#xe0; di manutenzione","children":[],"payload":{"tag":"li","lines":"1190,1192"}}],"payload":{"tag":"h2","lines":"1186,1187"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1200,1208\"><code data-lines=\"1200,1208\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-string\">Se</span> <span class=\"hljs-string\">vuoi,</span> <span class=\"hljs-string\">posso</span> <span class=\"hljs-string\">anche</span> <span class=\"hljs-string\">preparare</span> <span class=\"hljs-string\">i</span> <span class=\"hljs-string\">file</span> <span class=\"hljs-string\">Markdown</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">queste</span> <span class=\"hljs-string\">versioni</span> <span class=\"hljs-string\">dettagliate</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">generare</span> <span class=\"hljs-string\">ulteriori</span> <span class=\"hljs-string\">capitoli</span> <span class=\"hljs-string\">su</span> <span class=\"hljs-string\">argomenti</span> <span class=\"hljs-string\">come</span> <span class=\"hljs-string\">gestione</span> <span class=\"hljs-string\">errori,</span> <span class=\"hljs-string\">template</span> <span class=\"hljs-string\">Jinja,</span> <span class=\"hljs-string\">callback</span> <span class=\"hljs-string\">plugin,</span> <span class=\"hljs-string\">ecc.</span>\n\n<span class=\"hljs-string\">Fammi</span> <span class=\"hljs-string\">sapere!</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1200,1208"}}],"payload":{"tag":"h2","lines":"1194,1195"}}],"payload":{"tag":"h1","lines":"807,808"}},{"content":"Capitolo 6: Gestione Errori e Controllo del Flusso","children":[{"content":"Condizione di successo con <code>failed_when</code> e <code>changed_when</code>","children":[{"content":"<pre data-lines=\"1251,1257\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Esempio</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">controllo</span> <span class=\"hljs-string\">personalizzato</span>\n    <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">/usr/bin/exit</span> <span class=\"hljs-number\">1</span>\n    <span class=\"hljs-attr\">failed_when:</span> <span class=\"hljs-literal\">false</span>   <span class=\"hljs-comment\"># Non fallisce mai, anche se exit code &#xe8; diverso da 0</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1251,1257"}}],"payload":{"tag":"h2","lines":"1247,1248"}},{"content":"Blocchi e <code>rescue</code>","children":[{"content":"<pre data-lines=\"1262,1277\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">block:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Task</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">potrebbe</span> <span class=\"hljs-string\">fallire</span>\n        <span class=\"hljs-attr\">command:</span> <span class=\"hljs-string\">/bin/false</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Task</span> <span class=\"hljs-string\">successivo</span>\n        <span class=\"hljs-attr\">debug:</span>\n          <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Non eseguito se il precedente fallisce&quot;</span>\n\n    <span class=\"hljs-attr\">rescue:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Gestione</span> <span class=\"hljs-string\">errore</span>\n        <span class=\"hljs-attr\">debug:</span>\n          <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Errore catturato, eseguo recupero&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1262,1277"}}],"payload":{"tag":"h2","lines":"1258,1259"}},{"content":"Condizione <code>when</code> per controllare flussi","children":[{"content":"<pre data-lines=\"1282,1293\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Esegue</span> <span class=\"hljs-string\">comando</span>\n    <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">/bin/false</span>\n    <span class=\"hljs-attr\">register:</span> <span class=\"hljs-string\">risultato</span>\n\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Esegue</span> <span class=\"hljs-string\">solo</span> <span class=\"hljs-string\">se</span> <span class=\"hljs-string\">il</span> <span class=\"hljs-string\">task</span> <span class=\"hljs-string\">precedente</span> <span class=\"hljs-string\">ha</span> <span class=\"hljs-string\">avuto</span> <span class=\"hljs-string\">successo</span>\n    <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Successo!&quot;</span>\n    <span class=\"hljs-attr\">when:</span> <span class=\"hljs-string\">risultato.rc</span> <span class=\"hljs-string\">==</span> <span class=\"hljs-number\">0</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1282,1293"}}],"payload":{"tag":"h2","lines":"1278,1279"}},{"content":"Confronto Python (try/except)","children":[{"content":"<pre data-lines=\"1296,1303\"><code class=\"language-python\"><span class=\"hljs-keyword\">try</span>:\n    <span class=\"hljs-comment\"># codice che pu&#xf2; generare errore</span>\n    result = <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>\n<span class=\"hljs-keyword\">except</span> ZeroDivisionError:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;Gestisco l&apos;errore&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1296,1303"}}],"payload":{"tag":"h2","lines":"1294,1295"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1313,1333\"><code data-lines=\"1313,1333\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Capitolo 7: Template Jinja2 in Ansible</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Capitolo 7: Template Jinja2 in Ansible</span>\n\n<span class=\"hljs-comment\">## Cos&apos;&#xe8; Jinja2?</span>\n\n<span class=\"hljs-string\">&#xc8;</span> <span class=\"hljs-string\">un</span> <span class=\"hljs-string\">motore</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">template</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">permette</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">generare</span> <span class=\"hljs-string\">contenuti</span> <span class=\"hljs-string\">dinamici</span> <span class=\"hljs-string\">tramite</span> <span class=\"hljs-string\">variabili,</span> <span class=\"hljs-string\">espressioni</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">filtri.</span>\n\n<span class=\"hljs-comment\">## Uso nei file template `.j2`</span>\n\n<span class=\"hljs-string\">Puoi</span> <span class=\"hljs-string\">creare</span> <span class=\"hljs-string\">file</span> <span class=\"hljs-string\">template</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">variabili</span> <span class=\"hljs-string\">da</span> <span class=\"hljs-string\">sostituire</span> <span class=\"hljs-string\">durante</span> <span class=\"hljs-string\">l&#x2019;esecuzione.</span>\n\n<span class=\"hljs-string\">Esempio</span> <span class=\"hljs-string\">`template.conf.j2`:</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1313,1333"}},{"content":"<pre data-lines=\"1338,1343\"><code data-lines=\"1338,1343\"><span class=\"language-xml\">location / {\n    proxy_pass http://</span><span class=\"hljs-template-variable\">{{ <span class=\"hljs-name\">backend_ip</span> }}</span><span class=\"language-xml\">:</span><span class=\"hljs-template-variable\">{{ <span class=\"hljs-name\">backend_port</span> }}</span><span class=\"language-xml\">;\n}\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"1338,1343"}},{"content":"<pre data-lines=\"1346,1357\"><code data-lines=\"1346,1357\">\n<span class=\"hljs-meta\">## Uso nel playbook</span>\n\n```yaml\n<span class=\"hljs-symbol\">tasks:</span>\n  - name: Copia file template\n<span class=\"hljs-symbol\">    template:</span>\n<span class=\"hljs-symbol\">      src:</span> template.conf.j2\n<span class=\"hljs-symbol\">      dest:</span> <span class=\"hljs-keyword\">/etc/</span>nginx<span class=\"hljs-keyword\">/sites-enabled/</span>default\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1346,1357"}}],"payload":{"tag":"h2","lines":"1306,1307"}},{"content":"Variabili, filtri e controllo flusso","children":[{"content":"<pre data-lines=\"1368,1376\"><code class=\"language-yaml\"><span class=\"hljs-attr\">vars:</span>\n  <span class=\"hljs-attr\">nome:</span> <span class=\"hljs-string\">&quot;Mario Rossi&quot;</span>\n\n<span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">debug:</span>\n      <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Nome minuscolo: <span class=\"hljs-template-variable\">{{ nome | lower }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1368,1376"}},{"content":"<pre data-lines=\"1379,1386\"><code class=\"language-jinja\"><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">if</span></span> app_debug %}</span><span class=\"language-xml\">\ndebug_mode = true\n</span><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">else</span></span> %}</span><span class=\"language-xml\">\ndebug_mode = false\n</span><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">endif</span></span> %}</span><span class=\"language-xml\">\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"1379,1386"}}],"payload":{"tag":"h2","lines":"1358,1359"}},{"content":"Confronto con Python","children":[{"content":"<pre data-lines=\"1391,1395\"><code class=\"language-python\">nome = <span class=\"hljs-string\">&quot;Mario&quot;</span>\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;Ciao <span class=\"hljs-subst\">{nome.lower()}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1391,1395"}}],"payload":{"tag":"h2","lines":"1387,1388"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1405,1428\"><code data-lines=\"1405,1428\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Capitolo 8: Callback Plugin e Personalizzazioni</span>\n\n<span class=\"hljs-string\">```markdown</span>\n<span class=\"hljs-comment\"># Capitolo 8: Callback Plugin e Personalizzazioni</span>\n\n<span class=\"hljs-comment\">## Cosa sono i callback plugin?</span>\n\n<span class=\"hljs-string\">Sono</span> <span class=\"hljs-string\">plugin</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">consentono</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">eseguire</span> <span class=\"hljs-string\">azioni</span> <span class=\"hljs-string\">personalizzate</span> <span class=\"hljs-string\">durante</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">dopo</span> <span class=\"hljs-string\">l&#x2019;esecuzione</span> <span class=\"hljs-string\">dei</span> <span class=\"hljs-string\">playbook</span> <span class=\"hljs-string\">(ad</span> <span class=\"hljs-string\">es.</span> <span class=\"hljs-string\">log,</span> <span class=\"hljs-string\">notifiche).</span>\n\n<span class=\"hljs-comment\">## Uso base</span>\n\n<span class=\"hljs-string\">Ansible</span> <span class=\"hljs-string\">include</span> <span class=\"hljs-string\">diversi</span> <span class=\"hljs-string\">callback</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">default</span> <span class=\"hljs-string\">(json,</span> <span class=\"hljs-string\">yaml,</span> <span class=\"hljs-string\">minimal).</span>\n\n<span class=\"hljs-attr\">Per abilitarli:</span>\n\n<span class=\"hljs-string\">```bash</span>\n<span class=\"hljs-string\">export</span> <span class=\"hljs-string\">ANSIBLE_CALLBACK_WHITELIST=&apos;json&apos;</span>\n<span class=\"hljs-string\">ansible-playbook</span> <span class=\"hljs-string\">playbook.yml</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1405,1428"}}],"payload":{"tag":"h2","lines":"1398,1399"}},{"content":"Scrivere un callback personalizzato","children":[{"content":"<pre data-lines=\"1435,1443\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        host = result._host\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;TASK OK su <span class=\"hljs-subst\">{host.name}</span>: <span class=\"hljs-subst\">{result.task_name}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1435,1443"}}],"payload":{"tag":"h2","lines":"1429,1430"}},{"content":"Perch&#xe9; usarlo?","children":[{"content":"Monitoraggio personalizzato","children":[],"payload":{"tag":"li","lines":"1448,1449"}},{"content":"Integrazione con sistemi esterni (Slack, email)","children":[],"payload":{"tag":"li","lines":"1449,1450"}},{"content":"Logging avanzato","children":[],"payload":{"tag":"li","lines":"1450,1452"}}],"payload":{"tag":"h2","lines":"1446,1447"}},{"content":"Alternative: Moduli di output","children":[],"payload":{"tag":"h2","lines":"1452,1453"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1465,1473\"><code data-lines=\"1465,1473\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-string\">Se</span> <span class=\"hljs-string\">vuoi,</span> <span class=\"hljs-string\">posso</span> <span class=\"hljs-string\">proseguire</span> <span class=\"hljs-string\">creando</span> <span class=\"hljs-string\">esempi</span> <span class=\"hljs-string\">pratici,</span> <span class=\"hljs-string\">esercizi</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">capitoli</span> <span class=\"hljs-string\">avanzati</span> <span class=\"hljs-string\">(es.</span> <span class=\"hljs-string\">gestione</span> <span class=\"hljs-string\">inventario</span> <span class=\"hljs-string\">dinamico,</span> <span class=\"hljs-string\">sviluppo</span> <span class=\"hljs-string\">moduli</span> <span class=\"hljs-string\">personalizzati,</span> <span class=\"hljs-string\">ecc.).</span>\n\n<span class=\"hljs-string\">Fammi</span> <span class=\"hljs-string\">sapere!</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1465,1473"}}],"payload":{"tag":"h2","lines":"1458,1459"}}],"payload":{"tag":"h1","lines":"1221,1222"}},{"content":"Esempi Pratici e Esercizi","children":[{"content":"Esempio pratico 1: Installare e configurare Nginx con template","children":[{"content":"<pre data-lines=\"1488,1513\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Setup</span> <span class=\"hljs-string\">Nginx</span> <span class=\"hljs-string\">with</span> <span class=\"hljs-string\">template</span>\n  <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">webservers</span>\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">server_name:</span> <span class=\"hljs-string\">example.com</span>\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Install</span> <span class=\"hljs-string\">Nginx</span>\n      <span class=\"hljs-attr\">apt:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">nginx</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n      <span class=\"hljs-attr\">become:</span> <span class=\"hljs-literal\">yes</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Copy</span> <span class=\"hljs-string\">Nginx</span> <span class=\"hljs-string\">config</span> <span class=\"hljs-string\">template</span>\n      <span class=\"hljs-attr\">template:</span>\n        <span class=\"hljs-attr\">src:</span> <span class=\"hljs-string\">nginx.conf.j2</span>\n        <span class=\"hljs-attr\">dest:</span> <span class=\"hljs-string\">/etc/nginx/sites-available/default</span>\n      <span class=\"hljs-attr\">notify:</span> <span class=\"hljs-string\">restart</span> <span class=\"hljs-string\">nginx</span>\n\n  <span class=\"hljs-attr\">handlers:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">restart</span> <span class=\"hljs-string\">nginx</span>\n      <span class=\"hljs-attr\">service:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">nginx</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">restarted</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1488,1513"}},{"content":"<pre data-lines=\"1516,1525\"><code class=\"language-jinja\"><span class=\"language-xml\">server {\n    listen 80;\n    server_name </span><span class=\"hljs-template-variable\">{{ server_name }}</span><span class=\"language-xml\">;\n    location / {\n        proxy_pass http://localhost:3000;\n    }\n}\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"1516,1525"}}],"payload":{"tag":"h2","lines":"1486,1487"}},{"content":"Esercizio 1: Scrivi un playbook che crea un utente con un gruppo specifico, usando variabili e condizioni.","children":[],"payload":{"tag":"h2","lines":"1528,1529"}},{"content":"Esempio pratico 2: Gestione errori con block e rescue","children":[{"content":"<pre data-lines=\"1534,1550\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Example</span> <span class=\"hljs-string\">error</span> <span class=\"hljs-string\">handling</span>\n  <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">block:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Command</span> <span class=\"hljs-string\">that</span> <span class=\"hljs-string\">fails</span>\n          <span class=\"hljs-attr\">command:</span> <span class=\"hljs-string\">/bin/false</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Should</span> <span class=\"hljs-string\">not</span> <span class=\"hljs-string\">run</span> <span class=\"hljs-string\">if</span> <span class=\"hljs-string\">above</span> <span class=\"hljs-string\">fails</span>\n          <span class=\"hljs-attr\">debug:</span>\n            <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;This won&apos;t run&quot;</span>\n      <span class=\"hljs-attr\">rescue:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Handle</span> <span class=\"hljs-string\">failure</span>\n          <span class=\"hljs-attr\">debug:</span>\n            <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Something went wrong, handling it&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1534,1550"}}],"payload":{"tag":"h2","lines":"1532,1533"}},{"content":"Esercizio 2: Modifica l&#x2019;esempio sopra per registrare l&#x2019;output del comando fallito e usarlo nel rescue.","children":[],"payload":{"tag":"h2","lines":"1553,1554"}}],"payload":{"tag":"h1","lines":"1482,1483"}},{"content":"Capitoli Avanzati","children":[{"content":"Capitolo 9: Gestione Inventario Dinamico","children":[{"content":"<pre data-lines=\"1563,1583\"><code class=\"language-markdown\"><span class=\"hljs-section\"># Capitolo 9: Gestione Inventario Dinamico</span>\n\n<span class=\"hljs-section\">## Cos&#x2019;&#xe8; l&#x2019;inventario dinamico?</span>\n\nInvece di una lista statica di host, l&#x2019;inventario pu&#xf2; essere generato al volo da script, API o cloud provider.\n\n<span class=\"hljs-section\">## Esempio: Script inventario JSON</span>\n\n<span class=\"hljs-code\">```bash\n#!/bin/bash\ncat &lt;&lt;EOF\n{\n  &quot;all&quot;: {\n    &quot;hosts&quot;: [&quot;host1.example.com&quot;, &quot;host2.example.com&quot;],\n    &quot;vars&quot;: {&quot;ansible_user&quot;: &quot;admin&quot;}\n  }\n}\nEOF\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"1563,1583"}},{"content":"<pre data-lines=\"1586,1589\"><code class=\"language-bash\">ansible-inventory -i dynamic_inventory.sh --list\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1586,1589"}}],"payload":{"tag":"h2","lines":"1561,1562"}},{"content":"Cloud provider","children":[],"payload":{"tag":"h2","lines":"1590,1591"}},{"content":"Vantaggi","children":[{"content":"Automatizza il reperimento degli host","children":[],"payload":{"tag":"li","lines":"1598,1599"}},{"content":"Sempre aggiornato","children":[],"payload":{"tag":"li","lines":"1599,1600"}},{"content":"Si integra con ambienti cloud e container","children":[],"payload":{"tag":"li","lines":"1600,1602"}}],"payload":{"tag":"h2","lines":"1596,1597"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1611,1658\"><code data-lines=\"1611,1658\">\n---\n\n<span class=\"hljs-comment\">## Capitolo 10: Sviluppo di Moduli Personalizzati</span>\n\n```markdown\n<span class=\"hljs-comment\"># Capitolo 10: Sviluppo di Moduli Personalizzati</span>\n\n<span class=\"hljs-comment\">## Perch&#xe9; sviluppare moduli?</span>\n\nQuando i moduli ufficiali non soddisfano i requisiti, si pu&#xf2; estendere Ansible con moduli custom.\n\n<span class=\"hljs-comment\">## Struttura base di un modulo in Python</span>\n\n```python\n<span class=\"hljs-comment\">#!/usr/bin/python</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.module_utils.basic <span class=\"hljs-keyword\">import</span> AnsibleModule\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>():\n    module_args = <span class=\"hljs-built_in\">dict</span>(\n        name=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, required=<span class=\"hljs-literal\">True</span>),\n        state=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, choices=[<span class=\"hljs-string\">&apos;present&apos;</span>, <span class=\"hljs-string\">&apos;absent&apos;</span>], default=<span class=\"hljs-string\">&apos;present&apos;</span>)\n    )\n\n    module = AnsibleModule(argument_spec=module_args, supports_check_mode=<span class=\"hljs-literal\">True</span>)\n\n    name = module.params[<span class=\"hljs-string\">&apos;name&apos;</span>]\n    state = module.params[<span class=\"hljs-string\">&apos;state&apos;</span>]\n\n    result = <span class=\"hljs-built_in\">dict</span>(changed=<span class=\"hljs-literal\">False</span>, original_name=name)\n\n    <span class=\"hljs-keyword\">if</span> state == <span class=\"hljs-string\">&apos;present&apos;</span>:\n        <span class=\"hljs-comment\"># Logica per creare risorsa</span>\n        result[<span class=\"hljs-string\">&apos;changed&apos;</span>] = <span class=\"hljs-literal\">True</span>\n        result[<span class=\"hljs-string\">&apos;message&apos;</span>] = <span class=\"hljs-string\">f&quot;Resource <span class=\"hljs-subst\">{name}</span> created.&quot;</span>\n    <span class=\"hljs-keyword\">else</span>:\n        <span class=\"hljs-comment\"># Logica per rimuovere risorsa</span>\n        result[<span class=\"hljs-string\">&apos;changed&apos;</span>] = <span class=\"hljs-literal\">True</span>\n        result[<span class=\"hljs-string\">&apos;message&apos;</span>] = <span class=\"hljs-string\">f&quot;Resource <span class=\"hljs-subst\">{name}</span> removed.&quot;</span>\n\n    module.exit_json(**result)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    main()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1611,1658"}}],"payload":{"tag":"h2","lines":"1604,1605"}},{"content":"Testare il modulo","children":[{"content":"<pre data-lines=\"1663,1671\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Test</span> <span class=\"hljs-string\">custom</span> <span class=\"hljs-string\">module</span>\n      <span class=\"hljs-attr\">my_module:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">test</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1663,1671"}}],"payload":{"tag":"h2","lines":"1659,1660"}},{"content":"Best Practice","children":[{"content":"Supportare <code>check_mode</code> per idempotenza","children":[],"payload":{"tag":"li","lines":"1674,1675"}},{"content":"Gestire errori con <code>module.fail_json()</code>","children":[],"payload":{"tag":"li","lines":"1675,1676"}},{"content":"Documentare i parametri","children":[],"payload":{"tag":"li","lines":"1676,1678"}}],"payload":{"tag":"h2","lines":"1672,1673"}},{"content":"Nota","children":[{"content":"<pre data-lines=\"1686,1699\"><code data-lines=\"1686,1699\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Posso proseguire con:</span>\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">Capitolo 11:</span> <span class=\"hljs-string\">Gestione</span> <span class=\"hljs-string\">avanzata</span> <span class=\"hljs-string\">variabili</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">facts</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">Capitolo 12:</span> <span class=\"hljs-string\">Strategie</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">deployment</span> <span class=\"hljs-string\">avanzate</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Esempi</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">playbook</span> <span class=\"hljs-string\">reali</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Laboratori</span> <span class=\"hljs-string\">pratici</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">soluzioni</span>\n\n<span class=\"hljs-string\">Fammi</span> <span class=\"hljs-string\">sapere!</span> <span class=\"hljs-string\">Vuoi</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">approfondisca</span> <span class=\"hljs-string\">uno</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">questi</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">altro?</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1686,1699"}}],"payload":{"tag":"h2","lines":"1680,1681"}}],"payload":{"tag":"h1","lines":"1557,1558"}},{"content":"Capitolo 11: Gestione avanzata variabili e facts","children":[{"content":"Accesso ai facts","children":[{"content":"<pre data-lines=\"1759,1763\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">debug:</span>\n    <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Hostname is <span class=\"hljs-template-variable\">{{ ansible_facts.ansible_hostname }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1759,1763"}}],"payload":{"tag":"h2","lines":"1755,1756"}},{"content":"Variabili complesse","children":[{"content":"<pre data-lines=\"1770,1778\"><code class=\"language-yaml\"><span class=\"hljs-attr\">vars:</span>\n  <span class=\"hljs-attr\">users:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">alice</span>\n      <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">/bin/bash</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">bob</span>\n      <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">/bin/zsh</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1770,1778"}},{"content":"<pre data-lines=\"1781,1788\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Create</span> <span class=\"hljs-string\">users</span>\n  <span class=\"hljs-attr\">user:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.name }}</span>&quot;</span>\n    <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.shell }}</span>&quot;</span>\n  <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ users }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1781,1788"}}],"payload":{"tag":"h2","lines":"1766,1767"}},{"content":"Variabili dinamiche con <code>set_fact</code>","children":[{"content":"<pre data-lines=\"1795,1799\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">set_fact:</span>\n    <span class=\"hljs-attr\">my_dynamic_var:</span> <span class=\"hljs-string\">&quot;valore calcolato&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1795,1799"}}],"payload":{"tag":"h2","lines":"1791,1792"}},{"content":"Gestione scope variabili","children":[{"content":"Variabili definite in un ruolo sono isolate a quel ruolo","children":[],"payload":{"tag":"li","lines":"1804,1805"}},{"content":"Variabili di playbook sono visibili a tutto il play","children":[],"payload":{"tag":"li","lines":"1805,1806"}},{"content":"Evitare conflitti di nomi per mantenere pulito il contesto","children":[],"payload":{"tag":"li","lines":"1806,1808"}}],"payload":{"tag":"h2","lines":"1802,1803"}},{"content":"Esercizio","children":[{"content":"Blue/Green Deployment","children":[],"payload":{"tag":"h3","lines":"1844,1845"}}],"payload":{"tag":"h2","lines":"1810,1811"}},{"content":"Gestione rollback","children":[{"content":"<pre data-lines=\"1858,1866\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">block:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Deploy</span> <span class=\"hljs-string\">applicazione</span>\n      <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">./deploy.sh</span>\n  <span class=\"hljs-attr\">rescue:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Rollback</span> <span class=\"hljs-string\">deploy</span>\n      <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">./rollback.sh</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1858,1866"}}],"payload":{"tag":"h2","lines":"1852,1853"}},{"content":"Uso di tags","children":[{"content":"<pre data-lines=\"1873,1876\"><code class=\"language-bash\">ansible-playbook playbook.yml --tags <span class=\"hljs-string\">&quot;deploy&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1873,1876"}}],"payload":{"tag":"h2","lines":"1869,1870"}},{"content":"Gestione segreti","children":[],"payload":{"tag":"h2","lines":"1879,1880"}},{"content":"Esercizio","children":[{"content":"<pre data-lines=\"1890,1935\"><code data-lines=\"1890,1935\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\"># Esempi di Playbook Reali</span>\n\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-comment\">## Esempio: Setup di un server web completo</span>\n\n<span class=\"hljs-string\">```yaml</span>\n<span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Setup</span> <span class=\"hljs-string\">webserver</span> <span class=\"hljs-string\">completo</span>\n  <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">webservers</span>\n  <span class=\"hljs-attr\">vars_files:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">secrets.yml</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Installare</span> <span class=\"hljs-string\">Nginx</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">Git</span>\n      <span class=\"hljs-attr\">apt:</span>\n        <span class=\"hljs-attr\">name:</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">nginx</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">git</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n      <span class=\"hljs-attr\">become:</span> <span class=\"hljs-literal\">yes</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Configurare</span> <span class=\"hljs-string\">sito</span> <span class=\"hljs-string\">web</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">template</span>\n      <span class=\"hljs-attr\">template:</span>\n        <span class=\"hljs-attr\">src:</span> <span class=\"hljs-string\">site.conf.j2</span>\n        <span class=\"hljs-attr\">dest:</span> <span class=\"hljs-string\">/etc/nginx/sites-available/site.conf</span>\n      <span class=\"hljs-attr\">notify:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">reload</span> <span class=\"hljs-string\">nginx</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Clonare</span> <span class=\"hljs-string\">repository</span> <span class=\"hljs-string\">sito</span>\n      <span class=\"hljs-attr\">git:</span>\n        <span class=\"hljs-attr\">repo:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ repo_url }}</span>&quot;</span>\n        <span class=\"hljs-attr\">dest:</span> <span class=\"hljs-string\">/var/www/html</span>\n        <span class=\"hljs-attr\">version:</span> <span class=\"hljs-string\">master</span>\n\n  <span class=\"hljs-attr\">handlers:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">reload</span> <span class=\"hljs-string\">nginx</span>\n      <span class=\"hljs-attr\">service:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">nginx</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">reloaded</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1890,1935"}}],"payload":{"tag":"h2","lines":"1885,1886"}}],"payload":{"tag":"h1","lines":"1713,1714"}},{"content":"Laboratori Pratici con Soluzioni","children":[{"content":"Laboratorio 1: Installare e configurare un servizio","children":[{"content":"Soluzione","children":[{"content":"<pre data-lines=\"1954,1996\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Install</span> <span class=\"hljs-string\">Docker</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">nginx</span> <span class=\"hljs-string\">container</span>\n  <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">all</span>\n  <span class=\"hljs-attr\">become:</span> <span class=\"hljs-literal\">yes</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Installare</span> <span class=\"hljs-string\">dipendenze</span>\n      <span class=\"hljs-attr\">apt:</span>\n        <span class=\"hljs-attr\">name:</span> [<span class=\"hljs-string\">&apos;apt-transport-https&apos;</span>, <span class=\"hljs-string\">&apos;ca-certificates&apos;</span>, <span class=\"hljs-string\">&apos;curl&apos;</span>, <span class=\"hljs-string\">&apos;software-properties-common&apos;</span>]\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Aggiungere</span> <span class=\"hljs-string\">chiave</span> <span class=\"hljs-string\">GPG</span> <span class=\"hljs-string\">Docker</span>\n      <span class=\"hljs-attr\">apt_key:</span>\n        <span class=\"hljs-attr\">url:</span> <span class=\"hljs-string\">https://download.docker.com/linux/ubuntu/gpg</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Aggiungere</span> <span class=\"hljs-string\">repository</span> <span class=\"hljs-string\">Docker</span>\n      <span class=\"hljs-attr\">apt_repository:</span>\n        <span class=\"hljs-attr\">repo:</span> <span class=\"hljs-string\">deb</span> [<span class=\"hljs-string\">arch=amd64</span>] <span class=\"hljs-string\">https://download.docker.com/linux/ubuntu</span> <span class=\"hljs-string\">focal</span> <span class=\"hljs-string\">stable</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Installare</span> <span class=\"hljs-string\">Docker</span>\n      <span class=\"hljs-attr\">apt:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">docker-ce</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n        <span class=\"hljs-attr\">update_cache:</span> <span class=\"hljs-literal\">yes</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Aggiungere</span> <span class=\"hljs-string\">utente</span> <span class=\"hljs-string\">corrente</span> <span class=\"hljs-string\">al</span> <span class=\"hljs-string\">gruppo</span> <span class=\"hljs-string\">docker</span>\n      <span class=\"hljs-attr\">user:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ ansible_user }}</span>&quot;</span>\n        <span class=\"hljs-attr\">groups:</span> <span class=\"hljs-string\">docker</span>\n        <span class=\"hljs-attr\">append:</span> <span class=\"hljs-literal\">yes</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Avviare</span> <span class=\"hljs-string\">container</span> <span class=\"hljs-string\">nginx</span>\n      <span class=\"hljs-attr\">docker_container:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">nginx</span>\n        <span class=\"hljs-attr\">image:</span> <span class=\"hljs-string\">nginx:latest</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">started</span>\n        <span class=\"hljs-attr\">ports:</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">&quot;80:80&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1954,1996"}}],"payload":{"tag":"h3","lines":"1952,1953"}}],"payload":{"tag":"h2","lines":"1942,1943"}}],"payload":{"tag":"h1","lines":"1938,1939"}},{"content":"Laboratori Pratici Aggiuntivi","children":[{"content":"Laboratorio 2: Gestione utenti e gruppi","children":[{"content":"<pre data-lines=\"2017,2068\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Gestione</span> <span class=\"hljs-string\">utenti</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">gruppi</span>\n  <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">all</span>\n  <span class=\"hljs-attr\">become:</span> <span class=\"hljs-literal\">yes</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">users:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">alice</span>\n        <span class=\"hljs-attr\">groups:</span> <span class=\"hljs-string\">sudo,developers</span>\n        <span class=\"hljs-attr\">ssh_key:</span> <span class=\"hljs-string\">&quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC...&quot;</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">bob</span>\n        <span class=\"hljs-attr\">groups:</span> <span class=\"hljs-string\">developers</span>\n        <span class=\"hljs-attr\">ssh_key:</span> <span class=\"hljs-string\">&quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC...&quot;</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Creare</span> <span class=\"hljs-string\">gruppi</span>\n      <span class=\"hljs-attr\">group:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item }}</span>&quot;</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n      <span class=\"hljs-attr\">loop:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">sudo</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">developers</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Creare</span> <span class=\"hljs-string\">utenti</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">gruppi</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">password</span>\n      <span class=\"hljs-attr\">user:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.name }}</span>&quot;</span>\n        <span class=\"hljs-attr\">groups:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.groups }}</span>&quot;</span>\n        <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ &apos;password123&apos; | password_hash(&apos;sha512&apos;) }}</span>&quot;</span>\n        <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">/bin/bash</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ users }}</span>&quot;</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Creare</span> <span class=\"hljs-string\">directory</span> <span class=\"hljs-string\">.ssh</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">ogni</span> <span class=\"hljs-string\">utente</span>\n      <span class=\"hljs-attr\">file:</span>\n        <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">&quot;/home/<span class=\"hljs-template-variable\">{{ item.name }}</span>/.ssh&quot;</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">directory</span>\n        <span class=\"hljs-attr\">mode:</span> <span class=\"hljs-string\">&quot;0700&quot;</span>\n        <span class=\"hljs-attr\">owner:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.name }}</span>&quot;</span>\n        <span class=\"hljs-attr\">group:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.name }}</span>&quot;</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ users }}</span>&quot;</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Aggiungere</span> <span class=\"hljs-string\">chiave</span> <span class=\"hljs-string\">pubblica</span> <span class=\"hljs-string\">ssh</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">ogni</span> <span class=\"hljs-string\">utente</span>\n      <span class=\"hljs-attr\">copy:</span>\n        <span class=\"hljs-attr\">content:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.ssh_key }}</span>&quot;</span>\n        <span class=\"hljs-attr\">dest:</span> <span class=\"hljs-string\">&quot;/home/<span class=\"hljs-template-variable\">{{ item.name }}</span>/.ssh/authorized_keys&quot;</span>\n        <span class=\"hljs-attr\">mode:</span> <span class=\"hljs-string\">&quot;0600&quot;</span>\n        <span class=\"hljs-attr\">owner:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.name }}</span>&quot;</span>\n        <span class=\"hljs-attr\">group:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ item.name }}</span>&quot;</span>\n      <span class=\"hljs-attr\">loop:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ users }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2017,2068"}}],"payload":{"tag":"h2","lines":"2013,2014"}},{"content":"Laboratorio 3: Deploy di un&#x2019;applicazione Python con virtualenv","children":[{"content":"<pre data-lines=\"2075,2117\"><code class=\"language-yaml\"><span class=\"hljs-meta\">---</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Deploy</span> <span class=\"hljs-string\">app</span> <span class=\"hljs-string\">Python</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">virtualenv</span>\n  <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">all</span>\n  <span class=\"hljs-attr\">become:</span> <span class=\"hljs-literal\">yes</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">app_dir:</span> <span class=\"hljs-string\">/opt/myapp</span>\n    <span class=\"hljs-attr\">venv_dir:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ app_dir }}</span>/venv&quot;</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Installare</span> <span class=\"hljs-string\">Python3</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">pip</span>\n      <span class=\"hljs-attr\">apt:</span>\n        <span class=\"hljs-attr\">name:</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">python3</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">python3-pip</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">python3-venv</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n        <span class=\"hljs-attr\">update_cache:</span> <span class=\"hljs-literal\">yes</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Creare</span> <span class=\"hljs-string\">directory</span> <span class=\"hljs-string\">applicazione</span>\n      <span class=\"hljs-attr\">file:</span>\n        <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ app_dir }}</span>&quot;</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">directory</span>\n        <span class=\"hljs-attr\">owner:</span> <span class=\"hljs-string\">www-data</span>\n        <span class=\"hljs-attr\">group:</span> <span class=\"hljs-string\">www-data</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Creare</span> <span class=\"hljs-string\">virtualenv</span>\n      <span class=\"hljs-attr\">command:</span> <span class=\"hljs-string\">python3</span> <span class=\"hljs-string\">-m</span> <span class=\"hljs-string\">venv</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ venv_dir }}</span>&quot;</span>\n      <span class=\"hljs-attr\">args:</span>\n        <span class=\"hljs-attr\">creates:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ venv_dir }}</span>/bin/activate&quot;</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Installare</span> <span class=\"hljs-string\">dipendenze</span> <span class=\"hljs-string\">Python</span>\n      <span class=\"hljs-attr\">pip:</span>\n        <span class=\"hljs-attr\">requirements:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ app_dir }}</span>/requirements.txt&quot;</span>\n        <span class=\"hljs-attr\">virtualenv:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ venv_dir }}</span>&quot;</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Avviare</span> <span class=\"hljs-string\">app</span> <span class=\"hljs-string\">(esempio</span> <span class=\"hljs-string\">semplice)</span>\n      <span class=\"hljs-attr\">shell:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ venv_dir }}</span>/bin/python <span class=\"hljs-template-variable\">{{ app_dir }}</span>/app.py &amp;&quot;</span>\n      <span class=\"hljs-attr\">args:</span>\n        <span class=\"hljs-attr\">chdir:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ app_dir }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2075,2117"}}],"payload":{"tag":"h2","lines":"2071,2072"}}],"payload":{"tag":"h1","lines":"2009,2010"}},{"content":"Approfondimenti: Callback Plugin","children":[{"content":"Cosa sono i callback plugin?","children":[],"payload":{"tag":"h2","lines":"2124,2125"}},{"content":"Uso pratico","children":[{"content":"Inviare notifiche Slack al completamento di un playbook","children":[],"payload":{"tag":"li","lines":"2134,2135"}},{"content":"Salvare i log in un database esterno","children":[],"payload":{"tag":"li","lines":"2135,2136"}},{"content":"Visualizzare output personalizzato in tempo reale","children":[],"payload":{"tag":"li","lines":"2136,2138"}}],"payload":{"tag":"h2","lines":"2130,2131"}},{"content":"Esempio: Callback plugin base (in Python)","children":[{"content":"<pre data-lines=\"2142,2156\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        host = result._host.get_name()\n        task = result.task_name\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;TASK OK on <span class=\"hljs-subst\">{host}</span>: <span class=\"hljs-subst\">{task}</span>&quot;</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_failed</span>(<span class=\"hljs-params\">self, result, ignore_errors=<span class=\"hljs-literal\">False</span></span>):\n        host = result._host.get_name()\n        task = result.task_name\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;TASK FAILED on <span class=\"hljs-subst\">{host}</span>: <span class=\"hljs-subst\">{task}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2142,2156"}}],"payload":{"tag":"h2","lines":"2140,2141"}},{"content":"Come usarlo?","children":[{"content":"Posiziona il file <code>.py</code> in una cartella <code>callback_plugins/</code> nel progetto","children":[],"payload":{"tag":"li","lines":"2161,2162"}},{"content":"Setta la variabile d&#x2019;ambiente <code>ANSIBLE_CALLBACK_PLUGINS</code> per puntare alla cartella","children":[],"payload":{"tag":"li","lines":"2162,2163"}},{"content":"Esegui il playbook, il plugin verr&#xe0; caricato automaticamente","children":[],"payload":{"tag":"li","lines":"2163,2165"}}],"payload":{"tag":"h2","lines":"2159,2160"}}],"payload":{"tag":"h1","lines":"2120,2121"}},{"content":"Approfondimenti: Template Jinja2 Avanzati","children":[{"content":"Uso base","children":[{"content":"<pre data-lines=\"2175,2180\"><code class=\"language-yaml\"><span class=\"hljs-attr\">template:</span>\n  <span class=\"hljs-attr\">src:</span> <span class=\"hljs-string\">nginx.conf.j2</span>\n  <span class=\"hljs-attr\">dest:</span> <span class=\"hljs-string\">/etc/nginx/nginx.conf</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2175,2180"}}],"payload":{"tag":"h2","lines":"2171,2172"}},{"content":"Filtri utili","children":[{"content":"<code>{{ var | default(&apos;valore&apos;) }}</code> &#x2014; valore di fallback","children":[],"payload":{"tag":"li","lines":"2185,2186"}},{"content":"<code>{{ lista | join(&apos;, &apos;) }}</code> &#x2014; unisce lista con separatore","children":[],"payload":{"tag":"li","lines":"2186,2187"}},{"content":"<code>{{ testo | upper }}</code> &#x2014; maiuscole","children":[],"payload":{"tag":"li","lines":"2187,2189"}}],"payload":{"tag":"h2","lines":"2183,2184"}},{"content":"Controlli di flusso","children":[{"content":"<pre data-lines=\"2193,2200\"><code class=\"language-jinja\"><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">if</span></span> ansible_os_family == &quot;Debian&quot; %}</span><span class=\"language-xml\">\n  # Configurazione specifica Debian\n</span><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">else</span></span> %}</span><span class=\"language-xml\">\n  # Altri OS\n</span><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">endif</span></span> %}</span><span class=\"language-xml\">\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"2193,2200"}}],"payload":{"tag":"h2","lines":"2191,2192"}},{"content":"Cicli","children":[{"content":"<pre data-lines=\"2205,2210\"><code class=\"language-jinja\"><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">for</span></span> utente <span class=\"hljs-keyword\">in</span> users %}</span><span class=\"language-xml\">\nuseradd </span><span class=\"hljs-template-variable\">{{ utente.name }}</span><span class=\"language-xml\">\n</span><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">endfor</span></span> %}</span><span class=\"language-xml\">\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"2205,2210"}}],"payload":{"tag":"h2","lines":"2203,2204"}},{"content":"Esempio avanzato: template nginx","children":[{"content":"<pre data-lines=\"2215,2231\"><code class=\"language-jinja\"><span class=\"language-xml\">server {\n  listen 80;\n  server_name </span><span class=\"hljs-template-variable\">{{ domain_name }}</span><span class=\"language-xml\">;\n\n  location / {\n    proxy_pass http://</span><span class=\"hljs-template-variable\">{{ backend_ip }}</span><span class=\"language-xml\">:</span><span class=\"hljs-template-variable\">{{ backend_port }}</span><span class=\"language-xml\">;\n  }\n\n  </span><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">if</span></span> enable_ssl %}</span><span class=\"language-xml\">\n  listen 443 ssl;\n  ssl_certificate /etc/ssl/certs/</span><span class=\"hljs-template-variable\">{{ domain_name }}</span><span class=\"language-xml\">.crt;\n  ssl_certificate_key /etc/ssl/private/</span><span class=\"hljs-template-variable\">{{ domain_name }}</span><span class=\"language-xml\">.key;\n  </span><span class=\"hljs-template-tag\">{% <span class=\"hljs-name\"><span class=\"hljs-name\">endif</span></span> %}</span><span class=\"language-xml\">\n}\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"2215,2231"}}],"payload":{"tag":"h2","lines":"2213,2214"}},{"content":"Esercizio","children":[{"content":"Gestione inventario dinamico","children":[],"payload":{"tag":"li","lines":"2242,2243"}},{"content":"Scrittura moduli personalizzati","children":[],"payload":{"tag":"li","lines":"2243,2244"}},{"content":"Integrazione con sistemi esterni via plugin","children":[],"payload":{"tag":"li","lines":"2244,2246"}}],"payload":{"tag":"h2","lines":"2234,2235"}},{"content":"Prossimi laboratori/pratiche","children":[{"content":"1. \n<p data-lines=\"2258,2261\"><strong>Gestione inventario dinamico</strong><br>\n<em>Come usare script, plugin o API per popolare dinamicamente l&#x2019;inventario di Ansible</em><br>\n&#x2014; Con esempi su AWS EC2, DigitalOcean, o file JSON dinamici.</p>","children":[],"payload":{"tag":"li","lines":"2258,2262","listIndex":1}},{"content":"2. \n<p data-lines=\"2262,2265\"><strong>Scrittura moduli personalizzati</strong><br>\n<em>Come estendere Ansible con moduli Python custom</em><br>\n&#x2014; Spiegazione API moduli, gestione input/output, idempotenza.</p>","children":[],"payload":{"tag":"li","lines":"2262,2266","listIndex":2}},{"content":"3. \n<p data-lines=\"2266,2269\"><strong>Callback plugin avanzati</strong><br>\n<em>Notifiche, logging esteso, integrazione con sistemi esterni</em><br>\n&#x2014; Plugin per Slack, webhook, archiviazione DB.</p>","children":[],"payload":{"tag":"li","lines":"2266,2270","listIndex":3}},{"content":"4. \n<p data-lines=\"2270,2273\"><strong>Template avanzati e filtri Jinja2 personalizzati</strong><br>\n<em>Creazione di filtri personalizzati, macro e blocchi</em><br>\n&#x2014; Esempi pratici per gestire configurazioni complesse.</p>","children":[],"payload":{"tag":"li","lines":"2270,2274","listIndex":4}},{"content":"5. \n<p data-lines=\"2274,2277\"><strong>Gestione errori e strategie di retry</strong><br>\n<em>Come gestire errori e fallback senza introdurre logica imperativa</em><br>\n&#x2014; Uso di <code>ignore_errors</code>, <code>rescue</code>, <code>always</code>.</p>","children":[],"payload":{"tag":"li","lines":"2274,2278","listIndex":5}},{"content":"6. \n<p data-lines=\"2278,2281\"><strong>Integrazione con CI/CD (GitHub Actions, OpenTofu)</strong><br>\n<em>Come integrare playbook in pipeline di automazione</em><br>\n&#x2014; Esempi di workflow e best practice.</p>","children":[],"payload":{"tag":"li","lines":"2278,2282","listIndex":6}}],"payload":{"tag":"h2","lines":"2256,2257"}}],"payload":{"tag":"h1","lines":"2167,2168"}},{"content":"Introduzione ai moduli avanzati di Ansible con esempi pratici","children":[{"content":"1. Gestione inventario dinamico","children":[{"content":"<pre data-lines=\"2318,2321\"><code class=\"language-bash\">ansible-inventory -i ec2.py --list\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2318,2321"}},{"content":"<pre data-lines=\"2324,2331\"><code class=\"language-yaml\"><span class=\"hljs-attr\">plugin:</span> <span class=\"hljs-string\">aws_ec2</span>\n<span class=\"hljs-attr\">regions:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">us-east-1</span>\n<span class=\"hljs-attr\">filters:</span>\n  <span class=\"hljs-attr\">tag:Environment:</span> <span class=\"hljs-string\">production</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2324,2331"}}],"payload":{"tag":"h2","lines":"2306,2307"}},{"content":"2. Sviluppo moduli personalizzati","children":[{"content":"<pre data-lines=\"2341,2371\"><code class=\"language-python\"><span class=\"hljs-comment\">#!/usr/bin/python</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.module_utils.basic <span class=\"hljs-keyword\">import</span> AnsibleModule\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>():\n    module = AnsibleModule(\n        argument_spec=<span class=\"hljs-built_in\">dict</span>(\n            name=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, required=<span class=\"hljs-literal\">True</span>),\n            state=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, choices=[<span class=\"hljs-string\">&apos;present&apos;</span>, <span class=\"hljs-string\">&apos;absent&apos;</span>], default=<span class=\"hljs-string\">&apos;present&apos;</span>)\n        )\n    )\n\n    name = module.params[<span class=\"hljs-string\">&apos;name&apos;</span>]\n    state = module.params[<span class=\"hljs-string\">&apos;state&apos;</span>]\n\n    <span class=\"hljs-comment\"># Logica idempotente simulata</span>\n    changed = <span class=\"hljs-literal\">False</span>\n    <span class=\"hljs-keyword\">if</span> state == <span class=\"hljs-string\">&apos;present&apos;</span>:\n        <span class=\"hljs-comment\"># implementa la creazione</span>\n        changed = <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-keyword\">else</span>:\n        <span class=\"hljs-comment\"># implementa la rimozione</span>\n        changed = <span class=\"hljs-literal\">True</span>\n\n    module.exit_json(changed=changed, msg=<span class=\"hljs-string\">f&quot;Resource <span class=\"hljs-subst\">{name}</span> is <span class=\"hljs-subst\">{state}</span>&quot;</span>)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    main()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2341,2371"}}],"payload":{"tag":"h2","lines":"2334,2335"}},{"content":"3. Callback plugin avanzati","children":[{"content":"<pre data-lines=\"2381,2389\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        msg = <span class=\"hljs-string\">f&quot;Task <span class=\"hljs-subst\">{result.task_name}</span> eseguito con successo su <span class=\"hljs-subst\">{result._host}</span>&quot;</span>\n        <span class=\"hljs-comment\"># codice per inviare a Slack via webhook</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2381,2389"}}],"payload":{"tag":"h2","lines":"2374,2375"}},{"content":"4. Template avanzati e filtri Jinja2","children":[{"content":"<pre data-lines=\"2399,2407\"><code class=\"language-python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">reverse_string</span>(<span class=\"hljs-params\">value</span>):\n    <span class=\"hljs-keyword\">return</span> value[::-<span class=\"hljs-number\">1</span>]\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FilterModule</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">filters</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> {<span class=\"hljs-string\">&apos;reverse&apos;</span>: reverse_string}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2399,2407"}},{"content":"<pre data-lines=\"2410,2413\"><code class=\"language-jinja\"><span class=\"hljs-template-variable\">{{ &quot;ciao&quot; | reverse }}</span><span class=\"language-xml\">  # &quot;oaic&quot;\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"2410,2413"}}],"payload":{"tag":"h2","lines":"2392,2393"}},{"content":"5. Gestione errori e retry","children":[{"content":"<pre data-lines=\"2423,2433\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Copia</span> <span class=\"hljs-string\">file</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">retry</span>\n  <span class=\"hljs-attr\">copy:</span>\n    <span class=\"hljs-attr\">src:</span> <span class=\"hljs-string\">file.txt</span>\n    <span class=\"hljs-attr\">dest:</span> <span class=\"hljs-string\">/tmp/file.txt</span>\n  <span class=\"hljs-attr\">retries:</span> <span class=\"hljs-number\">3</span>\n  <span class=\"hljs-attr\">delay:</span> <span class=\"hljs-number\">5</span>\n  <span class=\"hljs-attr\">until:</span> <span class=\"hljs-string\">result</span> <span class=\"hljs-string\">is</span> <span class=\"hljs-string\">succeeded</span>\n  <span class=\"hljs-attr\">register:</span> <span class=\"hljs-string\">result</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2423,2433"}},{"content":"<pre data-lines=\"2436,2446\"><code class=\"language-yaml\"><span class=\"hljs-attr\">tasks:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">block:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Comando</span> <span class=\"hljs-string\">che</span> <span class=\"hljs-string\">pu&#xf2;</span> <span class=\"hljs-string\">fallire</span>\n        <span class=\"hljs-attr\">command:</span> <span class=\"hljs-string\">/bin/false</span>\n    <span class=\"hljs-attr\">rescue:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Task</span> <span class=\"hljs-string\">alternativo</span>\n        <span class=\"hljs-attr\">debug:</span>\n          <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;Comando fallito, eseguo azione di fallback&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2436,2446"}}],"payload":{"tag":"h2","lines":"2416,2417"}},{"content":"6. Integrazione CI/CD (GitHub Actions / OpenTofu)","children":[{"content":"<pre data-lines=\"2456,2467\"><code class=\"language-yaml\"><span class=\"hljs-attr\">jobs:</span>\n  <span class=\"hljs-attr\">deploy:</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v3</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Run</span> <span class=\"hljs-string\">Ansible</span> <span class=\"hljs-string\">Playbook</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">dawidd6/action-ansible-playbook@v2</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">playbook:</span> <span class=\"hljs-string\">deploy.yml</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2456,2467"}}],"payload":{"tag":"h2","lines":"2449,2450"}}],"payload":{"tag":"h1","lines":"2302,2303"}},{"content":"Prossimo step: contenuti dettagliati","children":[{"content":"Introduzione teorica","children":[],"payload":{"tag":"li","lines":"2476,2477"}},{"content":"Spiegazioni tecniche dettagliate","children":[],"payload":{"tag":"li","lines":"2477,2478"}},{"content":"Esempi pratici commentati","children":[],"payload":{"tag":"li","lines":"2478,2479"}},{"content":"Esercizi e suggerimenti di approfondimento","children":[],"payload":{"tag":"li","lines":"2479,2481"}}],"payload":{"tag":"h1","lines":"2472,2473"}},{"content":"Capitolo: Plugin in Ansible &#x2014; Focus su Callback Plugin e oltre","children":[{"content":"1. Introduzione ai Plugin in Ansible","children":[{"content":"Tipologie principali di plugin:","children":[{"content":"<table data-lines=\"2501,2509\">\n<thead data-lines=\"2501,2502\">\n<tr data-lines=\"2501,2502\">\n<th>Tipo plugin</th>\n<th>Descrizione</th>\n<th>Esempio uso</th>\n</tr>\n</thead>\n<tbody data-lines=\"2503,2509\">\n<tr data-lines=\"2503,2504\">\n<td><strong>Callback</strong></td>\n<td>Reagisce a eventi runtime (task started, finished, error) per logging, notifiche, statistiche.</td>\n<td>Notifica Slack, output personalizzato.</td>\n</tr>\n<tr data-lines=\"2504,2505\">\n<td><strong>Connection</strong></td>\n<td>Gestisce come Ansible si connette agli host (ssh, local, docker).</td>\n<td>Connessione SSH o connessione Docker.</td>\n</tr>\n<tr data-lines=\"2505,2506\">\n<td><strong>Lookup</strong></td>\n<td>Recupera dati da fonti esterne (file, database, API).</td>\n<td>Lettura variabili da file JSON.</td>\n</tr>\n<tr data-lines=\"2506,2507\">\n<td><strong>Filter</strong></td>\n<td>Funzioni per manipolare dati in Jinja2 templates.</td>\n<td>Custom filter per trasformazioni stringa.</td>\n</tr>\n<tr data-lines=\"2507,2508\">\n<td><strong>Strategy</strong></td>\n<td>Controlla come vengono eseguiti i task (parallelismo, serializzazione).</td>\n<td>Linear, Free strategy.</td>\n</tr>\n<tr data-lines=\"2508,2509\">\n<td><strong>Action</strong></td>\n<td>Definisce il comportamento di un modulo durante l&#x2019;esecuzione.</td>\n<td>Moduli personalizzati avanzati.</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"2501,2509"}}],"payload":{"tag":"h3","lines":"2499,2500"}}],"payload":{"tag":"h2","lines":"2495,2496"}},{"content":"2. Focus: Callback Plugin","children":[{"content":"2.1 Cosa sono i Callback Plugin?","children":[{"content":"L&#x2019;output a video o su file (logging)","children":[],"payload":{"tag":"li","lines":"2518,2519"}},{"content":"Invio notifiche (Slack, email)","children":[],"payload":{"tag":"li","lines":"2519,2520"}},{"content":"Invio metriche a sistemi di monitoring","children":[],"payload":{"tag":"li","lines":"2520,2521"}},{"content":"Azioni custom post-task o post-playbook","children":[],"payload":{"tag":"li","lines":"2521,2523"}}],"payload":{"tag":"h3","lines":"2514,2515"}},{"content":"2.2 Dove si trovano i callback plugin?","children":[{"content":"<pre data-lines=\"2529,2532\"><code data-lines=\"2529,2532\">.<span class=\"hljs-regexp\">/callback_plugins/</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2529,2532"}}],"payload":{"tag":"h3","lines":"2523,2524"}}],"payload":{"tag":"h2","lines":"2512,2513"}},{"content":"3. Come scrivere un Callback Plugin personalizzato","children":[{"content":"3.1 Struttura minima di un callback plugin","children":[{"content":"<pre data-lines=\"2539,2556\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        <span class=\"hljs-comment\"># Quando un task ha successo su un host</span>\n        host = result._host.get_name()\n        task = result.task_name\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;[OK] Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; completato su <span class=\"hljs-subst\">{host}</span>&quot;</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_failed</span>(<span class=\"hljs-params\">self, result, ignore_errors=<span class=\"hljs-literal\">False</span></span>):\n        <span class=\"hljs-comment\"># Quando un task fallisce</span>\n        host = result._host.get_name()\n        task = result.task_name\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;[FAIL] Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; fallito su <span class=\"hljs-subst\">{host}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2539,2556"}}],"payload":{"tag":"h3","lines":"2537,2538"}},{"content":"3.2 Eventi utili da intercettare (metodi comuni)","children":[{"content":"<table data-lines=\"2559,2566\">\n<thead data-lines=\"2559,2560\">\n<tr data-lines=\"2559,2560\">\n<th>Metodo</th>\n<th>Descrizione</th>\n</tr>\n</thead>\n<tbody data-lines=\"2561,2566\">\n<tr data-lines=\"2561,2562\">\n<td><code>v2_playbook_on_start</code></td>\n<td>Quando inizia un playbook</td>\n</tr>\n<tr data-lines=\"2562,2563\">\n<td><code>v2_runner_on_ok</code></td>\n<td>Quando un task finisce con successo</td>\n</tr>\n<tr data-lines=\"2563,2564\">\n<td><code>v2_runner_on_failed</code></td>\n<td>Quando un task fallisce</td>\n</tr>\n<tr data-lines=\"2564,2565\">\n<td><code>v2_runner_on_skipped</code></td>\n<td>Quando un task &#xe8; saltato</td>\n</tr>\n<tr data-lines=\"2565,2566\">\n<td><code>v2_playbook_on_stats</code></td>\n<td>Quando il playbook termina</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"2559,2566"}}],"payload":{"tag":"h3","lines":"2557,2558"}}],"payload":{"tag":"h2","lines":"2535,2536"}},{"content":"4. Esempio pratico: Callback per inviare notifiche Slack","children":[{"content":"<pre data-lines=\"2571,2604\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n\n    CALLBACK_VERSION = <span class=\"hljs-number\">2.0</span>\n    CALLBACK_TYPE = <span class=\"hljs-string\">&apos;notification&apos;</span>\n    CALLBACK_NAME = <span class=\"hljs-string\">&apos;slack_notify&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-built_in\">super</span>(CallbackModule, <span class=\"hljs-variable language_\">self</span>).__init__()\n        <span class=\"hljs-variable language_\">self</span>.webhook_url = <span class=\"hljs-string\">&apos;https://hooks.slack.com/services/XXX/YYY/ZZZ&apos;</span>  <span class=\"hljs-comment\"># Sostituire con il vostro webhook</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        host = result._host.get_name()\n        task = result.task_name\n        msg = <span class=\"hljs-string\">f&quot;:white_check_mark: Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; completato su <span class=\"hljs-subst\">{host}</span>&quot;</span>\n        <span class=\"hljs-variable language_\">self</span>.send_slack(msg)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_failed</span>(<span class=\"hljs-params\">self, result, ignore_errors=<span class=\"hljs-literal\">False</span></span>):\n        host = result._host.get_name()\n        task = result.task_name\n        msg = <span class=\"hljs-string\">f&quot;:x: Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; fallito su <span class=\"hljs-subst\">{host}</span>&quot;</span>\n        <span class=\"hljs-variable language_\">self</span>.send_slack(msg)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">send_slack</span>(<span class=\"hljs-params\">self, message</span>):\n        payload = {<span class=\"hljs-string\">&quot;text&quot;</span>: message}\n        <span class=\"hljs-keyword\">try</span>:\n            requests.post(<span class=\"hljs-variable language_\">self</span>.webhook_url, json=payload)\n        <span class=\"hljs-keyword\">except</span> Exception <span class=\"hljs-keyword\">as</span> e:\n            <span class=\"hljs-variable language_\">self</span>._display.warning(<span class=\"hljs-string\">f&quot;Errore invio Slack: <span class=\"hljs-subst\">{e}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2571,2604"}}],"payload":{"tag":"h2","lines":"2569,2570"}},{"content":"5. Installazione e attivazione del plugin","children":[{"content":"<pre data-lines=\"2612,2617\"><code class=\"language-ini\"><span class=\"hljs-section\">[defaults]</span>\n<span class=\"hljs-attr\">callback_plugins</span> = ./callback_plugins\n<span class=\"hljs-attr\">stdout_callback</span> = slack_notify\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2612,2617"}}],"payload":{"tag":"h2","lines":"2607,2608"}},{"content":"6. Esempio avanzato: Callback plugin con logging su file","children":[{"content":"<pre data-lines=\"2622,2647\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n<span class=\"hljs-keyword\">import</span> logging\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n\n    CALLBACK_VERSION = <span class=\"hljs-number\">2.0</span>\n    CALLBACK_TYPE = <span class=\"hljs-string\">&apos;notification&apos;</span>\n    CALLBACK_NAME = <span class=\"hljs-string\">&apos;file_logger&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-built_in\">super</span>().__init__()\n        logging.basicConfig(filename=<span class=\"hljs-string\">&apos;ansible.log&apos;</span>, level=logging.INFO,\n                            <span class=\"hljs-built_in\">format</span>=<span class=\"hljs-string\">&apos;%(asctime)s %(message)s&apos;</span>)\n    \n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        host = result._host.get_name()\n        task = result.task_name\n        logging.info(<span class=\"hljs-string\">f&quot;[OK] Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; eseguito su <span class=\"hljs-subst\">{host}</span>&quot;</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_failed</span>(<span class=\"hljs-params\">self, result, ignore_errors=<span class=\"hljs-literal\">False</span></span>):\n        host = result._host.get_name()\n        task = result.task_name\n        logging.error(<span class=\"hljs-string\">f&quot;[FAIL] Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; fallito su <span class=\"hljs-subst\">{host}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2622,2647"}}],"payload":{"tag":"h2","lines":"2620,2621"}},{"content":"7. Altri plugin: brevi cenni","children":[{"content":"<strong>Filter plugin:</strong> si creano estensioni di filtri Jinja2 per manipolare dati.","children":[],"payload":{"tag":"li","lines":"2652,2653"}},{"content":"<strong>Lookup plugin:</strong> per caricare dati da fonti esterne.","children":[],"payload":{"tag":"li","lines":"2653,2654"}},{"content":"<strong>Connection plugin:</strong> per definire nuovi metodi di connessione, es. custom ssh o API.","children":[],"payload":{"tag":"li","lines":"2654,2656"}}],"payload":{"tag":"h2","lines":"2650,2651"}},{"content":"8. Esercizi consigliati","children":[{"content":"<pre data-lines=\"2678,2749\"><code class=\"language-python\"><span class=\"hljs-comment\"># callback_plugins/slack_notify.py</span>\n\n<span class=\"hljs-string\">&quot;&quot;&quot;\nCallback Plugin Ansible: Slack Notify\n\nQuesto plugin invia notifiche su Slack per ogni task eseguito da Ansible.\nIn particolare:\n- Invia un messaggio quando un task ha successo (OK)\n- Invia un messaggio quando un task fallisce (FAIL)\n\nPer usarlo:\n1. Metti questo file nella cartella &apos;callback_plugins&apos; nella root del progetto Ansible\n2. Configura ansible.cfg con:\n   [defaults]\n   callback_plugins = ./callback_plugins\n   stdout_callback = slack_notify\n\nSostituisci &apos;self.webhook_url&apos; con il tuo webhook Slack personale.\n\nAutore: ChatGPT\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n    <span class=\"hljs-comment\"># Versione del callback API</span>\n    CALLBACK_VERSION = <span class=\"hljs-number\">2.0</span>\n    \n    <span class=\"hljs-comment\"># Tipo di callback (notification, stdout, etc.)</span>\n    CALLBACK_TYPE = <span class=\"hljs-string\">&apos;notification&apos;</span>\n    \n    <span class=\"hljs-comment\"># Nome del plugin (usato in ansible.cfg)</span>\n    CALLBACK_NAME = <span class=\"hljs-string\">&apos;slack_notify&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-built_in\">super</span>(CallbackModule, <span class=\"hljs-variable language_\">self</span>).__init__()\n        <span class=\"hljs-comment\"># Inserisci qui il webhook Slack del tuo workspace</span>\n        <span class=\"hljs-variable language_\">self</span>.webhook_url = <span class=\"hljs-string\">&apos;https://hooks.slack.com/services/XXX/YYY/ZZZ&apos;</span>  <span class=\"hljs-comment\"># &lt;== MODIFICA QUI</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;\n        Metodo chiamato quando un task viene eseguito con successo.\n        &quot;&quot;&quot;</span>\n        host = result._host.get_name()           <span class=\"hljs-comment\"># Nome host target</span>\n        task = result.task_name                   <span class=\"hljs-comment\"># Nome task</span>\n        msg = <span class=\"hljs-string\">f&quot;:white_check_mark: Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; completato con successo su *<span class=\"hljs-subst\">{host}</span>*&quot;</span>\n        <span class=\"hljs-variable language_\">self</span>.send_slack(msg)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_failed</span>(<span class=\"hljs-params\">self, result, ignore_errors=<span class=\"hljs-literal\">False</span></span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;\n        Metodo chiamato quando un task fallisce.\n        &quot;&quot;&quot;</span>\n        host = result._host.get_name()\n        task = result.task_name\n        msg = <span class=\"hljs-string\">f&quot;:x: Task &apos;<span class=\"hljs-subst\">{task}</span>&apos; *fallito* su *<span class=\"hljs-subst\">{host}</span>*&quot;</span>\n        <span class=\"hljs-variable language_\">self</span>.send_slack(msg)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">send_slack</span>(<span class=\"hljs-params\">self, message</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;\n        Funzione helper per inviare un messaggio a Slack tramite webhook.\n        &quot;&quot;&quot;</span>\n        payload = {<span class=\"hljs-string\">&quot;text&quot;</span>: message}\n        <span class=\"hljs-keyword\">try</span>:\n            response = requests.post(<span class=\"hljs-variable language_\">self</span>.webhook_url, json=payload)\n            response.raise_for_status()\n        <span class=\"hljs-keyword\">except</span> Exception <span class=\"hljs-keyword\">as</span> e:\n            <span class=\"hljs-comment\"># Usa il display interno di Ansible per mostrare warning in caso di errori</span>\n            <span class=\"hljs-variable language_\">self</span>._display.warning(<span class=\"hljs-string\">f&quot;Errore nell&apos;invio notifica Slack: <span class=\"hljs-subst\">{e}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2678,2749"}}],"payload":{"tag":"h2","lines":"2658,2659"}}],"payload":{"tag":"h1","lines":"2491,2492"}},{"content":"1. Filter Plugin","children":[{"content":"<pre data-lines=\"2776,2805\"><code class=\"language-python\"><span class=\"hljs-comment\"># filter_plugins/camelcase.py</span>\n\n<span class=\"hljs-string\">&quot;&quot;&quot;\nFilter Plugin Ansible: CamelCase\n\nFornisce un filtro Jinja2 chiamato &apos;camelcase&apos; che converte una stringa in camelCase.\n\nUso nel template/playbook:\n  {{ &quot;ciao mondo&quot; | camelcase }}  =&gt; &quot;ciaoMondo&quot;\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FilterModule</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">filters</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-string\">&apos;camelcase&apos;</span>: <span class=\"hljs-variable language_\">self</span>.camelcase_filter\n        }\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">camelcase_filter</span>(<span class=\"hljs-params\">self, value</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;\n        Converte una stringa in camelCase.\n        &quot;&quot;&quot;</span>\n        words = value.split()\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> words:\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&quot;</span>\n        first_word = words[<span class=\"hljs-number\">0</span>].lower()\n        capitalized = [w.capitalize() <span class=\"hljs-keyword\">for</span> w <span class=\"hljs-keyword\">in</span> words[<span class=\"hljs-number\">1</span>:]]\n        <span class=\"hljs-keyword\">return</span> first_word + <span class=\"hljs-string\">&apos;&apos;</span>.join(capitalized)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2776,2805"}}],"payload":{"tag":"h1","lines":"2771,2772"}},{"content":"2. Lookup Plugin","children":[{"content":"<pre data-lines=\"2813,2840\"><code class=\"language-python\"><span class=\"hljs-comment\"># lookup_plugins/httpjson.py</span>\n\n<span class=\"hljs-string\">&quot;&quot;&quot;\nLookup Plugin Ansible: HTTP JSON\n\nCarica dati JSON da una URL HTTP.\n\nUso:\n  - debug:\n      msg: &quot;{{ lookup(&apos;httpjson&apos;, &apos;https://api.example.com/data.json&apos;) }}&quot;\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.plugins.lookup <span class=\"hljs-keyword\">import</span> LookupBase\n<span class=\"hljs-keyword\">from</span> ansible.errors <span class=\"hljs-keyword\">import</span> AnsibleError\n<span class=\"hljs-keyword\">import</span> requests\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LookupModule</span>(<span class=\"hljs-title class_ inherited__\">LookupBase</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self, terms, variables=<span class=\"hljs-literal\">None</span>, **kwargs</span>):\n        url = terms[<span class=\"hljs-number\">0</span>]\n        <span class=\"hljs-keyword\">try</span>:\n            r = requests.get(url)\n            r.raise_for_status()\n            <span class=\"hljs-keyword\">return</span> [r.json()]\n        <span class=\"hljs-keyword\">except</span> Exception <span class=\"hljs-keyword\">as</span> e:\n            <span class=\"hljs-keyword\">raise</span> AnsibleError(<span class=\"hljs-string\">f&quot;Errore nel caricamento JSON da <span class=\"hljs-subst\">{url}</span>: <span class=\"hljs-subst\">{e}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2813,2840"}}],"payload":{"tag":"h1","lines":"2808,2809"}},{"content":"3. Connection Plugin","children":[{"content":"<pre data-lines=\"2848,2902\"><code class=\"language-python\"><span class=\"hljs-comment\"># connection_plugins/restapi.py</span>\n\n<span class=\"hljs-string\">&quot;&quot;&quot;\nConnection Plugin Ansible: REST API\n\nEsempio base di connessione ad un host tramite API REST.\n\nPer usare:\nansible_connection: restapi\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.plugins.connection <span class=\"hljs-keyword\">import</span> ConnectionBase\n<span class=\"hljs-keyword\">from</span> ansible.errors <span class=\"hljs-keyword\">import</span> AnsibleConnectionFailure\n<span class=\"hljs-keyword\">import</span> requests\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Connection</span>(<span class=\"hljs-title class_ inherited__\">ConnectionBase</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, *args, **kwargs</span>):\n        <span class=\"hljs-built_in\">super</span>(Connection, <span class=\"hljs-variable language_\">self</span>).__init__(*args, **kwargs)\n        <span class=\"hljs-variable language_\">self</span>.base_url = <span class=\"hljs-literal\">None</span>\n        <span class=\"hljs-variable language_\">self</span>.session = <span class=\"hljs-literal\">None</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">_connect</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;\n        Stabilisce connessione (in questo caso solo inizializza sessione).\n        &quot;&quot;&quot;</span>\n        <span class=\"hljs-variable language_\">self</span>.base_url = <span class=\"hljs-variable language_\">self</span>.get_option(<span class=\"hljs-string\">&apos;remote_addr&apos;</span>)  <span class=\"hljs-comment\"># es: https://api.targethost.com</span>\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-variable language_\">self</span>.base_url:\n            <span class=\"hljs-keyword\">raise</span> AnsibleConnectionFailure(<span class=\"hljs-string\">&quot;URL base mancante per connessione REST&quot;</span>)\n        <span class=\"hljs-variable language_\">self</span>.session = requests.Session()\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">exec_command</span>(<span class=\"hljs-params\">self, cmd, in_data=<span class=\"hljs-literal\">None</span>, sudoable=<span class=\"hljs-literal\">True</span></span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;\n        Esegue un comando sulla destinazione tramite API REST (ipotetico).\n        &quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-variable language_\">self</span>.session <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\n            <span class=\"hljs-variable language_\">self</span>._connect()\n        url = <span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{self.base_url}</span>/exec&quot;</span>\n        payload = {<span class=\"hljs-string\">&quot;command&quot;</span>: cmd}\n        <span class=\"hljs-keyword\">try</span>:\n            r = <span class=\"hljs-variable language_\">self</span>.session.post(url, json=payload)\n            r.raise_for_status()\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>, r.text, <span class=\"hljs-string\">&quot;&quot;</span>\n        <span class=\"hljs-keyword\">except</span> Exception <span class=\"hljs-keyword\">as</span> e:\n            <span class=\"hljs-keyword\">raise</span> AnsibleConnectionFailure(<span class=\"hljs-string\">f&quot;Errore esecuzione comando: <span class=\"hljs-subst\">{e}</span>&quot;</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">close</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;\n        Chiude la connessione (qui chiude sessione HTTP).\n        &quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-variable language_\">self</span>.session:\n            <span class=\"hljs-variable language_\">self</span>.session.close()\n            <span class=\"hljs-variable language_\">self</span>.session = <span class=\"hljs-literal\">None</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2848,2902"}}],"payload":{"tag":"h1","lines":"2843,2844"}},{"content":"Come usarli?","children":[{"content":"1. <strong>Moduli personalizzati</strong>","children":[{"content":"Cos&#x2019;&#xe8; un modulo?","children":[{"content":"&#xc8; <strong>l&#x2019;unit&#xe0; base di lavoro in Ansible</strong>: un piccolo script (in Python o altro) che esegue un&#x2019;azione specifica (es. installare un pacchetto, copiare un file, creare un utente).","children":[],"payload":{"tag":"li","lines":"2944,2945"}},{"content":"Viene <strong>invocato direttamente dal playbook</strong> come task.","children":[],"payload":{"tag":"li","lines":"2945,2946"}},{"content":"Il modulo prende in input parametri, esegue operazioni e restituisce uno stato (changed, failed, output, ecc.).","children":[],"payload":{"tag":"li","lines":"2946,2948"}}],"payload":{"tag":"h3","lines":"2942,2943"}},{"content":"Quando si usano?","children":[{"content":"Quando vuoi <strong>definire una nuova azione o gestione risorse</strong> che Ansible non supporta nativamente.","children":[],"payload":{"tag":"li","lines":"2950,2951"}},{"content":"Per esempio, se vuoi interagire con un&#x2019;API proprietaria, un servizio custom, o gestire risorse non standard.","children":[],"payload":{"tag":"li","lines":"2951,2953"}}],"payload":{"tag":"h3","lines":"2948,2949"}},{"content":"Caratteristiche","children":[{"content":"Autonomo e riutilizzabile.","children":[],"payload":{"tag":"li","lines":"2955,2956"}},{"content":"Funziona sia in locale che su host remoti.","children":[],"payload":{"tag":"li","lines":"2956,2957"}},{"content":"Deve essere idempotente: ripetere il modulo non deve creare effetti collaterali.","children":[],"payload":{"tag":"li","lines":"2957,2958"}},{"content":"Scrittura tipicamente in Python (ma pu&#xf2; essere anche in bash, powershell, ecc.).","children":[],"payload":{"tag":"li","lines":"2958,2960"}}],"payload":{"tag":"h3","lines":"2953,2954"}},{"content":"Esempio minimo di modulo Python","children":[{"content":"<pre data-lines=\"2962,2992\"><code class=\"language-python\"><span class=\"hljs-comment\">#!/usr/bin/python</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.module_utils.basic <span class=\"hljs-keyword\">import</span> AnsibleModule\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>():\n    module_args = <span class=\"hljs-built_in\">dict</span>(\n        name=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, required=<span class=\"hljs-literal\">True</span>),\n        state=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, choices=[<span class=\"hljs-string\">&apos;present&apos;</span>, <span class=\"hljs-string\">&apos;absent&apos;</span>], default=<span class=\"hljs-string\">&apos;present&apos;</span>)\n    )\n\n    module = AnsibleModule(argument_spec=module_args)\n\n    name = module.params[<span class=\"hljs-string\">&apos;name&apos;</span>]\n    state = module.params[<span class=\"hljs-string\">&apos;state&apos;</span>]\n\n    <span class=\"hljs-comment\"># Logica fittizia: simuliamo la presenza di una risorsa</span>\n    changed = <span class=\"hljs-literal\">False</span>\n    <span class=\"hljs-keyword\">if</span> state == <span class=\"hljs-string\">&apos;present&apos;</span>:\n        <span class=\"hljs-comment\"># crea risorsa se non esiste</span>\n        changed = <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-keyword\">else</span>:\n        <span class=\"hljs-comment\"># elimina risorsa se esiste</span>\n        changed = <span class=\"hljs-literal\">True</span>\n\n    module.exit_json(changed=changed, msg=<span class=\"hljs-string\">f&quot;Risorsa <span class=\"hljs-subst\">{name}</span> &#xe8; ora <span class=\"hljs-subst\">{state}</span>&quot;</span>)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    main()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2962,2992"}}],"payload":{"tag":"h3","lines":"2960,2961"}}],"payload":{"tag":"h2","lines":"2940,2941"}},{"content":"2. <strong>Plugin Ansible</strong>","children":[{"content":"Cos&#x2019;&#xe8; un plugin?","children":[{"content":"\n<p data-lines=\"2999,3000\">&#xc8; un <strong>componente estensibile</strong> che modifica o estende il comportamento interno di Ansible.</p>","children":[],"payload":{"tag":"li","lines":"2999,3000"}},{"content":"\n<p data-lines=\"3000,3001\">Non &#xe8; un task/azione, ma pi&#xf9; una <strong>funzionalit&#xe0; di supporto o hook</strong>.</p>","children":[],"payload":{"tag":"li","lines":"3000,3001"}},{"content":"\n<p data-lines=\"3001,3002\">Tipologie di plugin comuni:</p>","children":[{"content":"<strong>Callback plugin</strong> (es. logging, notifica eventi)","children":[],"payload":{"tag":"li","lines":"3003,3004"}},{"content":"<strong>Filter plugin</strong> (filtri Jinja2 personalizzati)","children":[],"payload":{"tag":"li","lines":"3004,3005"}},{"content":"<strong>Lookup plugin</strong> (caricamento dati esterni)","children":[],"payload":{"tag":"li","lines":"3005,3006"}},{"content":"<strong>Connection plugin</strong> (definisce il metodo di connessione)","children":[],"payload":{"tag":"li","lines":"3006,3007"}},{"content":"<strong>Strategy plugin</strong> (gestione esecuzione task)","children":[],"payload":{"tag":"li","lines":"3007,3008"}},{"content":"<strong>Inventory plugin</strong> (gestione inventari dinamici)","children":[],"payload":{"tag":"li","lines":"3008,3009"}},{"content":"<strong>Action plugin</strong> (modifica esecuzione moduli)","children":[],"payload":{"tag":"li","lines":"3009,3011"}}],"payload":{"tag":"li","lines":"3001,3011"}}],"payload":{"tag":"h3","lines":"2997,2998"}},{"content":"Quando si usano?","children":[{"content":"Per <strong>personalizzare l&#x2019;ambiente di esecuzione di Ansible</strong>, aggiungere funzionalit&#xe0; cross-cutting.","children":[],"payload":{"tag":"li","lines":"3013,3014"}},{"content":"Quando vuoi modificare il comportamento di Ansible a livello di esecuzione, gestione output, o estendere la sintassi.","children":[],"payload":{"tag":"li","lines":"3014,3016"}}],"payload":{"tag":"h3","lines":"3011,3012"}},{"content":"Caratteristiche","children":[{"content":"Integrati nel core Ansible.","children":[],"payload":{"tag":"li","lines":"3018,3019"}},{"content":"Pi&#xf9; specifici rispetto ai moduli.","children":[],"payload":{"tag":"li","lines":"3019,3020"}},{"content":"Scritti in Python.","children":[],"payload":{"tag":"li","lines":"3020,3021"}},{"content":"Possono influenzare il modo in cui Ansible interpreta i playbook o interagisce con gli host.","children":[],"payload":{"tag":"li","lines":"3021,3023"}}],"payload":{"tag":"h3","lines":"3016,3017"}},{"content":"Esempio semplice di callback plugin","children":[{"content":"<pre data-lines=\"3025,3036\"><code class=\"language-python\"><span class=\"hljs-comment\"># callback_plugins/simple_log.py</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        host = result._host.get_name()\n        task = result.task_name\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;TASK OK - <span class=\"hljs-subst\">{host}</span>: <span class=\"hljs-subst\">{task}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3025,3036"}}],"payload":{"tag":"h3","lines":"3023,3024"}}],"payload":{"tag":"h2","lines":"2995,2996"}},{"content":"3. <strong>Confronto diretto</strong>","children":[{"content":"<table data-lines=\"3041,3050\">\n<thead data-lines=\"3041,3042\">\n<tr data-lines=\"3041,3042\">\n<th>Aspetto</th>\n<th>Moduli personalizzati</th>\n<th>Plugin Ansible</th>\n</tr>\n</thead>\n<tbody data-lines=\"3043,3050\">\n<tr data-lines=\"3043,3044\">\n<td>Scopo</td>\n<td>Eseguire task specifici</td>\n<td>Estendere o modificare il comportamento di Ansible</td>\n</tr>\n<tr data-lines=\"3044,3045\">\n<td>Invocazione</td>\n<td>Usati direttamente nei playbook come task</td>\n<td>Interni ad Ansible, non task diretti</td>\n</tr>\n<tr data-lines=\"3045,3046\">\n<td>Tipi</td>\n<td>Script/programma standalone</td>\n<td>Callback, lookup, filter, connection, strategy, ecc.</td>\n</tr>\n<tr data-lines=\"3046,3047\">\n<td>Livello di impatto</td>\n<td>Esecuzione azioni sulle risorse</td>\n<td>Modifica runtime, output, connessione, template, ecc.</td>\n</tr>\n<tr data-lines=\"3047,3048\">\n<td>Idempotenza</td>\n<td>Necessaria</td>\n<td>Non applicabile (dipende dal tipo)</td>\n</tr>\n<tr data-lines=\"3048,3049\">\n<td>Esempi</td>\n<td>Installare pacchetti, creare utenti</td>\n<td>Logger, filtri jinja, gestione connessioni</td>\n</tr>\n<tr data-lines=\"3049,3050\">\n<td>Linguaggio</td>\n<td>Python (o altri)</td>\n<td>Python</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"3041,3050"}}],"payload":{"tag":"h2","lines":"3039,3040"}},{"content":"4. <strong>Sintesi</strong>","children":[{"content":"Se vuoi <strong>creare nuove azioni</strong> (come installare un software, modificare configurazioni, chiamare API) &#x2192; <strong>moduli personalizzati</strong>.","children":[],"payload":{"tag":"li","lines":"3055,3056"}},{"content":"Se vuoi <strong>estendere il motore Ansible</strong> (filtrare dati, personalizzare output, definire nuovi modi di connessione) &#x2192; <strong>plugin</strong>.","children":[],"payload":{"tag":"li","lines":"3056,3058"}}],"payload":{"tag":"h2","lines":"3053,3054"}}],"payload":{"tag":"h1","lines":"2905,2906"}},{"content":"1. Moduli personalizzati: esempio completo e commentato","children":[{"content":"File: <code>library/my_resource.py</code>","children":[{"content":"<pre data-lines=\"3078,3125\"><code class=\"language-python\"><span class=\"hljs-comment\">#!/usr/bin/python</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.module_utils.basic <span class=\"hljs-keyword\">import</span> AnsibleModule\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>():\n    <span class=\"hljs-comment\"># Definizione degli argomenti accettati dal modulo</span>\n    module_args = <span class=\"hljs-built_in\">dict</span>(\n        name=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, required=<span class=\"hljs-literal\">True</span>),\n        state=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, choices=[<span class=\"hljs-string\">&apos;present&apos;</span>, <span class=\"hljs-string\">&apos;absent&apos;</span>], default=<span class=\"hljs-string\">&apos;present&apos;</span>)\n    )\n\n    module = AnsibleModule(\n        argument_spec=module_args,\n        supports_check_mode=<span class=\"hljs-literal\">True</span>  <span class=\"hljs-comment\"># Supporta modalit&#xe0; &quot;check&quot;</span>\n    )\n\n    name = module.params[<span class=\"hljs-string\">&apos;name&apos;</span>]\n    state = module.params[<span class=\"hljs-string\">&apos;state&apos;</span>]\n\n    <span class=\"hljs-comment\"># Simuliamo lo stato attuale (in un caso reale si farebbe controllo reale)</span>\n    current_state = <span class=\"hljs-string\">&apos;absent&apos;</span>  <span class=\"hljs-comment\"># Supponiamo la risorsa non esista</span>\n\n    changed = <span class=\"hljs-literal\">False</span>\n    msg = <span class=\"hljs-string\">&quot;&quot;</span>\n\n    <span class=\"hljs-keyword\">if</span> module.check_mode:\n        <span class=\"hljs-comment\"># Modalit&#xe0; check: solo simulazione, non si cambia nulla</span>\n        module.exit_json(changed=(current_state != state), msg=<span class=\"hljs-string\">&quot;Check mode: nessuna modifica eseguita&quot;</span>)\n\n    <span class=\"hljs-keyword\">if</span> state == <span class=\"hljs-string\">&apos;present&apos;</span> <span class=\"hljs-keyword\">and</span> current_state != <span class=\"hljs-string\">&apos;present&apos;</span>:\n        <span class=\"hljs-comment\"># Logica per creare la risorsa</span>\n        changed = <span class=\"hljs-literal\">True</span>\n        msg = <span class=\"hljs-string\">f&quot;Risorsa &apos;<span class=\"hljs-subst\">{name}</span>&apos; creata&quot;</span>\n    <span class=\"hljs-keyword\">elif</span> state == <span class=\"hljs-string\">&apos;absent&apos;</span> <span class=\"hljs-keyword\">and</span> current_state != <span class=\"hljs-string\">&apos;absent&apos;</span>:\n        <span class=\"hljs-comment\"># Logica per eliminare la risorsa</span>\n        changed = <span class=\"hljs-literal\">True</span>\n        msg = <span class=\"hljs-string\">f&quot;Risorsa &apos;<span class=\"hljs-subst\">{name}</span>&apos; rimossa&quot;</span>\n    <span class=\"hljs-keyword\">else</span>:\n        msg = <span class=\"hljs-string\">f&quot;Risorsa &apos;<span class=\"hljs-subst\">{name}</span>&apos; gi&#xe0; nello stato desiderato (<span class=\"hljs-subst\">{state}</span>)&quot;</span>\n\n    <span class=\"hljs-comment\"># Risposta di successo al motore Ansible</span>\n    module.exit_json(changed=changed, msg=msg)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    main()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3078,3125"}}],"payload":{"tag":"h3","lines":"3076,3077"}},{"content":"Come usare il modulo nel playbook:","children":[{"content":"<pre data-lines=\"3130,3138\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Gestisci</span> <span class=\"hljs-string\">la</span> <span class=\"hljs-string\">risorsa</span> <span class=\"hljs-string\">fittizia</span>\n      <span class=\"hljs-attr\">my_resource:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">&quot;esempio1&quot;</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3130,3138"}}],"payload":{"tag":"h3","lines":"3128,3129"}}],"payload":{"tag":"h1","lines":"3070,3071"}},{"content":"2. Plugin callback: esempio base di logging task","children":[{"content":"File: <code>callback_plugins/simple_logger.py</code>","children":[{"content":"<pre data-lines=\"3147,3164\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    Plugin callback che stampa a video quando un task termina con successo.\n    &quot;&quot;&quot;</span>\n\n    CALLBACK_VERSION = <span class=\"hljs-number\">2.0</span>\n    CALLBACK_TYPE = <span class=\"hljs-string\">&apos;notification&apos;</span>\n    CALLBACK_NAME = <span class=\"hljs-string\">&apos;simple_logger&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        host = result._host.get_name()\n        task = result.task_name\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;[INFO] TASK OK su <span class=\"hljs-subst\">{host}</span>: <span class=\"hljs-subst\">{task}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3147,3164"}}],"payload":{"tag":"h3","lines":"3145,3146"}},{"content":"Come usarlo:","children":[{"content":"Posiziona il file nella cartella <code>callback_plugins/</code> del progetto.","children":[],"payload":{"tag":"li","lines":"3169,3170"}},{"content":"Esegui Ansible con il flag <code>-v</code> o imposta la variabile d&#x2019;ambiente <code>ANSIBLE_CALLBACK_PLUGINS</code> per includere la cartella.","children":[],"payload":{"tag":"li","lines":"3170,3171"}},{"content":"Vedrai messaggi personalizzati per ogni task completato con successo.","children":[],"payload":{"tag":"li","lines":"3171,3173"}}],"payload":{"tag":"h3","lines":"3167,3168"}}],"payload":{"tag":"h1","lines":"3141,3142"}},{"content":"3. Filter plugin: esempio di filtro personalizzato per manipolare stringhe","children":[{"content":"File: <code>filter_plugins/my_filters.py</code>","children":[{"content":"<pre data-lines=\"3181,3194\"><code class=\"language-python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">shout</span>(<span class=\"hljs-params\">text</span>):\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    Filtro che trasforma un testo in maiuscolo con esclamazioni.\n    &quot;&quot;&quot;</span>\n    <span class=\"hljs-keyword\">return</span> text.upper() + <span class=\"hljs-string\">&quot;!!!&quot;</span>\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FilterModule</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">filters</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-string\">&apos;shout&apos;</span>: shout\n        }\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3181,3194"}}],"payload":{"tag":"h3","lines":"3179,3180"}},{"content":"Esempio d&#x2019;uso in un template Jinja2","children":[{"content":"<pre data-lines=\"3199,3203\"><code class=\"language-jinja\"><span class=\"language-xml\">Messaggio: </span><span class=\"hljs-template-variable\">{{ &quot;ciao mondo&quot; | shout }}</span><span class=\"language-xml\">\n# Risultato: CIAO MONDO!!!\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"3199,3203"}}],"payload":{"tag":"h3","lines":"3197,3198"}}],"payload":{"tag":"h1","lines":"3175,3176"}},{"content":"4. Lookup plugin: esempio base per leggere dati da file esterno","children":[{"content":"File: <code>lookup_plugins/my_lookup.py</code>","children":[{"content":"<pre data-lines=\"3212,3223\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.lookup <span class=\"hljs-keyword\">import</span> LookupBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LookupModule</span>(<span class=\"hljs-title class_ inherited__\">LookupBase</span>):\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self, terms, variables=<span class=\"hljs-literal\">None</span>, **kwargs</span>):\n        filename = terms[<span class=\"hljs-number\">0</span>]\n        <span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename, <span class=\"hljs-string\">&apos;r&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n            content = f.read()\n        <span class=\"hljs-keyword\">return</span> [content]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3212,3223"}}],"payload":{"tag":"h3","lines":"3210,3211"}},{"content":"Uso nel playbook","children":[{"content":"<pre data-lines=\"3228,3235\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Usa</span> <span class=\"hljs-string\">lookup</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">leggere</span> <span class=\"hljs-string\">file</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ lookup(&apos;my_lookup&apos;, &apos;file.txt&apos;) }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3228,3235"}}],"payload":{"tag":"h3","lines":"3226,3227"}}],"payload":{"tag":"h1","lines":"3206,3207"}},{"content":"5. Connection plugin: esempio base (pi&#xf9; avanzato, opzionale)","children":[],"payload":{"tag":"h1","lines":"3238,3239"}},{"content":"6. Sintesi e suggerimenti","children":[{"content":"","children":[{"content":"<strong>Moduli personalizzati</strong>: usali per azioni, manipolazioni o interazioni con sistemi/risorse.","children":[],"payload":{"tag":"li","lines":"3248,3249"}},{"content":"<strong>Plugin</strong>: servono per estendere il funzionamento di Ansible (logging, filtri, lookup dati, connessioni personalizzate).","children":[],"payload":{"tag":"li","lines":"3249,3250"}},{"content":"Mantieni sempre il principio di <strong>idempotenza</strong> e <strong>chiamata chiara</strong> da playbook.","children":[],"payload":{"tag":"li","lines":"3250,3251"}},{"content":"Usa la struttura di directory standard (es. <code>library/</code>, <code>callback_plugins/</code>, <code>filter_plugins/</code>, <code>lookup_plugins/</code>) per facilitare l&#x2019;organizzazione e il caricamento automatico.","children":[],"payload":{"tag":"li","lines":"3251,3253"}}],"payload":{"tag":"ul","lines":"3248,3253"}},{"content":"","children":[{"content":"<strong>Modulo personalizzato</strong> (<code>library/my_resource.py</code>)","children":[],"payload":{"tag":"li","lines":"3264,3265"}},{"content":"<strong>Plugin callback</strong> (<code>callback_plugins/simple_logger.py</code>)","children":[],"payload":{"tag":"li","lines":"3265,3266"}},{"content":"<strong>Plugin filtro</strong> (<code>filter_plugins/my_filters.py</code>)","children":[],"payload":{"tag":"li","lines":"3266,3267"}},{"content":"<strong>Plugin lookup</strong> (<code>lookup_plugins/my_lookup.py</code>)","children":[],"payload":{"tag":"li","lines":"3267,3269"}}],"payload":{"tag":"ul","lines":"3264,3269"}},{"content":"","children":[{"content":"Un <strong>playbook di esempio</strong> che usa tutte queste estensioni","children":[],"payload":{"tag":"li","lines":"3271,3272"}},{"content":"Una breve <strong>documentazione</strong> inline","children":[],"payload":{"tag":"li","lines":"3272,3273"}},{"content":"Struttura directory standard","children":[],"payload":{"tag":"li","lines":"3273,3275"}}],"payload":{"tag":"ul","lines":"3271,3275"}}],"payload":{"tag":"h1","lines":"3246,3247"}},{"content":"Struttura progetto","children":[{"content":"<pre data-lines=\"3279,3292\"><code data-lines=\"3279,3292\">ansible-declarative-demo/\n&#x251c;&#x2500;&#x2500; library/\n&#x2502;   &#x2514;&#x2500;&#x2500; my_resource<span class=\"hljs-selector-class\">.py</span>\n&#x251c;&#x2500;&#x2500; callback_plugins/\n&#x2502;   &#x2514;&#x2500;&#x2500; simple_logger<span class=\"hljs-selector-class\">.py</span>\n&#x251c;&#x2500;&#x2500; filter_plugins/\n&#x2502;   &#x2514;&#x2500;&#x2500; my_filters<span class=\"hljs-selector-class\">.py</span>\n&#x251c;&#x2500;&#x2500; lookup_plugins/\n&#x2502;   &#x2514;&#x2500;&#x2500; my_lookup<span class=\"hljs-selector-class\">.py</span>\n&#x251c;&#x2500;&#x2500; playbook<span class=\"hljs-selector-class\">.yml</span>\n&#x2514;&#x2500;&#x2500; README<span class=\"hljs-selector-class\">.md</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3279,3292"}}],"payload":{"tag":"h1","lines":"3277,3278"}},{"content":"1. <code>library/my_resource.py</code>","children":[{"content":"<pre data-lines=\"3297,3338\"><code class=\"language-python\"><span class=\"hljs-comment\">#!/usr/bin/python</span>\n\n<span class=\"hljs-keyword\">from</span> ansible.module_utils.basic <span class=\"hljs-keyword\">import</span> AnsibleModule\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>():\n    module_args = <span class=\"hljs-built_in\">dict</span>(\n        name=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, required=<span class=\"hljs-literal\">True</span>),\n        state=<span class=\"hljs-built_in\">dict</span>(<span class=\"hljs-built_in\">type</span>=<span class=\"hljs-string\">&apos;str&apos;</span>, choices=[<span class=\"hljs-string\">&apos;present&apos;</span>, <span class=\"hljs-string\">&apos;absent&apos;</span>], default=<span class=\"hljs-string\">&apos;present&apos;</span>)\n    )\n\n    module = AnsibleModule(\n        argument_spec=module_args,\n        supports_check_mode=<span class=\"hljs-literal\">True</span>\n    )\n\n    name = module.params[<span class=\"hljs-string\">&apos;name&apos;</span>]\n    state = module.params[<span class=\"hljs-string\">&apos;state&apos;</span>]\n\n    current_state = <span class=\"hljs-string\">&apos;absent&apos;</span>  <span class=\"hljs-comment\"># Simulazione: risorsa non esiste</span>\n\n    changed = <span class=\"hljs-literal\">False</span>\n    msg = <span class=\"hljs-string\">&quot;&quot;</span>\n\n    <span class=\"hljs-keyword\">if</span> module.check_mode:\n        module.exit_json(changed=(current_state != state), msg=<span class=\"hljs-string\">&quot;Check mode: nessuna modifica eseguita&quot;</span>)\n\n    <span class=\"hljs-keyword\">if</span> state == <span class=\"hljs-string\">&apos;present&apos;</span> <span class=\"hljs-keyword\">and</span> current_state != <span class=\"hljs-string\">&apos;present&apos;</span>:\n        changed = <span class=\"hljs-literal\">True</span>\n        msg = <span class=\"hljs-string\">f&quot;Risorsa &apos;<span class=\"hljs-subst\">{name}</span>&apos; creata&quot;</span>\n    <span class=\"hljs-keyword\">elif</span> state == <span class=\"hljs-string\">&apos;absent&apos;</span> <span class=\"hljs-keyword\">and</span> current_state != <span class=\"hljs-string\">&apos;absent&apos;</span>:\n        changed = <span class=\"hljs-literal\">True</span>\n        msg = <span class=\"hljs-string\">f&quot;Risorsa &apos;<span class=\"hljs-subst\">{name}</span>&apos; rimossa&quot;</span>\n    <span class=\"hljs-keyword\">else</span>:\n        msg = <span class=\"hljs-string\">f&quot;Risorsa &apos;<span class=\"hljs-subst\">{name}</span>&apos; gi&#xe0; nello stato desiderato (<span class=\"hljs-subst\">{state}</span>)&quot;</span>\n\n    module.exit_json(changed=changed, msg=msg)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    main()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3297,3338"}}],"payload":{"tag":"h1","lines":"3295,3296"}},{"content":"2. <code>callback_plugins/simple_logger.py</code>","children":[{"content":"<pre data-lines=\"3343,3356\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.callback <span class=\"hljs-keyword\">import</span> CallbackBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CallbackModule</span>(<span class=\"hljs-title class_ inherited__\">CallbackBase</span>):\n    CALLBACK_VERSION = <span class=\"hljs-number\">2.0</span>\n    CALLBACK_TYPE = <span class=\"hljs-string\">&apos;notification&apos;</span>\n    CALLBACK_NAME = <span class=\"hljs-string\">&apos;simple_logger&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">v2_runner_on_ok</span>(<span class=\"hljs-params\">self, result</span>):\n        host = result._host.get_name()\n        task = result.task_name\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;[INFO] TASK OK su <span class=\"hljs-subst\">{host}</span>: <span class=\"hljs-subst\">{task}</span>&quot;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3343,3356"}}],"payload":{"tag":"h1","lines":"3341,3342"}},{"content":"3. <code>filter_plugins/my_filters.py</code>","children":[{"content":"<pre data-lines=\"3361,3371\"><code class=\"language-python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">shout</span>(<span class=\"hljs-params\">text</span>):\n    <span class=\"hljs-keyword\">return</span> text.upper() + <span class=\"hljs-string\">&quot;!!!&quot;</span>\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FilterModule</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">filters</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-string\">&apos;shout&apos;</span>: shout\n        }\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3361,3371"}}],"payload":{"tag":"h1","lines":"3359,3360"}},{"content":"4. <code>lookup_plugins/my_lookup.py</code>","children":[{"content":"<pre data-lines=\"3376,3386\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> ansible.plugins.lookup <span class=\"hljs-keyword\">import</span> LookupBase\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LookupModule</span>(<span class=\"hljs-title class_ inherited__\">LookupBase</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self, terms, variables=<span class=\"hljs-literal\">None</span>, **kwargs</span>):\n        filename = terms[<span class=\"hljs-number\">0</span>]\n        <span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename, <span class=\"hljs-string\">&apos;r&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n            content = f.read()\n        <span class=\"hljs-keyword\">return</span> [content]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3376,3386"}}],"payload":{"tag":"h1","lines":"3374,3375"}},{"content":"5. <code>playbook.yml</code>","children":[{"content":"<pre data-lines=\"3391,3412\"><code class=\"language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">hosts:</span> <span class=\"hljs-string\">localhost</span>\n  <span class=\"hljs-attr\">gather_facts:</span> <span class=\"hljs-literal\">no</span>\n\n  <span class=\"hljs-attr\">vars:</span>\n    <span class=\"hljs-attr\">message:</span> <span class=\"hljs-string\">&quot;ciao mondo&quot;</span>\n\n  <span class=\"hljs-attr\">tasks:</span>\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Usa</span> <span class=\"hljs-string\">modulo</span> <span class=\"hljs-string\">personalizzato</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">creare</span> <span class=\"hljs-string\">risorsa</span>\n      <span class=\"hljs-attr\">my_resource:</span>\n        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">&quot;demo_resource&quot;</span>\n        <span class=\"hljs-attr\">state:</span> <span class=\"hljs-string\">present</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Usa</span> <span class=\"hljs-string\">filtro</span> <span class=\"hljs-string\">personalizzato</span> <span class=\"hljs-string\">shout</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ message | shout }}</span>&quot;</span>\n\n    <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Usa</span> <span class=\"hljs-string\">lookup</span> <span class=\"hljs-string\">per</span> <span class=\"hljs-string\">leggere</span> <span class=\"hljs-string\">file</span> <span class=\"hljs-string\">demo.txt</span>\n      <span class=\"hljs-attr\">debug:</span>\n        <span class=\"hljs-attr\">msg:</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-template-variable\">{{ lookup(&apos;my_lookup&apos;, &apos;demo.txt&apos;) }}</span>&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3391,3412"}}],"payload":{"tag":"h1","lines":"3389,3390"}},{"content":"6. <code>README.md</code>","children":[{"content":"Requisiti","children":[{"content":"Ansible 2.9+","children":[],"payload":{"tag":"li","lines":"3448,3449"}},{"content":"Python 3.x","children":[],"payload":{"tag":"li","lines":"3449,3450"}},{"content":"Nessuna dipendenza esterna","children":[],"payload":{"tag":"li","lines":"3450,3452"}}],"payload":{"tag":"h2","lines":"3446,3447"}},{"content":"Note","children":[{"content":"<pre data-lines=\"3462,3469\"><code data-lines=\"3462,3469\">\n<span class=\"hljs-meta\">---\n</span>\n<span class=\"hljs-string\">Se</span> <span class=\"hljs-string\">vuoi</span> <span class=\"hljs-string\">posso</span> <span class=\"hljs-string\">aiutarti</span> <span class=\"hljs-string\">a</span> <span class=\"hljs-string\">creare</span> <span class=\"hljs-string\">una</span> <span class=\"hljs-string\">serie</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">esercizi</span> <span class=\"hljs-string\">e</span> <span class=\"hljs-string\">spiegazioni</span> <span class=\"hljs-string\">dettagliate</span> <span class=\"hljs-string\">sul</span> <span class=\"hljs-string\">funzionamento</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">ciascuno</span> <span class=\"hljs-string\">di</span> <span class=\"hljs-string\">questi</span> <span class=\"hljs-string\">componenti,</span> <span class=\"hljs-string\">oppure</span> <span class=\"hljs-string\">estendere</span> <span class=\"hljs-string\">con</span> <span class=\"hljs-string\">plugin</span> <span class=\"hljs-string\">connection</span> <span class=\"hljs-string\">o</span> <span class=\"hljs-string\">moduli</span> <span class=\"hljs-string\">pi&#xf9;</span> <span class=\"hljs-string\">complessi.</span>  \n<span class=\"hljs-string\">Fammi</span> <span class=\"hljs-string\">sapere!</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3462,3469"}}],"payload":{"tag":"h2","lines":"3452,3453"}}],"payload":{"tag":"h1","lines":"3415,3416"}},{"content":"Guida didattica: Estendere Ansible con moduli e plugin personalizzati","children":[{"content":"Capitolo 1: Introduzione al progetto e setup","children":[{"content":"Obiettivo","children":[],"payload":{"tag":"h3","lines":"3483,3484"}},{"content":"Passi","children":[{"content":"<pre data-lines=\"3492,3495\"><code class=\"language-txt\">Questo &#xe8; un testo di esempio per il lookup plugin.\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3492,3495"}},{"content":"<pre data-lines=\"3498,3501\"><code class=\"language-bash\">ansible-playbook playbook.yml -v\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3498,3501"}}],"payload":{"tag":"h3","lines":"3487,3488"}}],"payload":{"tag":"h2","lines":"3481,3482"}},{"content":"Capitolo 2: Moduli personalizzati","children":[{"content":"Che cos&#x2019;&#xe8; un modulo personalizzato?","children":[],"payload":{"tag":"h3","lines":"3513,3514"}},{"content":"Come funziona <code>my_resource.py</code>?","children":[{"content":"Riceve parametri <code>name</code> e <code>state</code>","children":[],"payload":{"tag":"li","lines":"3519,3520"}},{"content":"Simula la verifica dello stato corrente","children":[],"payload":{"tag":"li","lines":"3520,3521"}},{"content":"Decide se cambiare stato o no","children":[],"payload":{"tag":"li","lines":"3521,3522"}},{"content":"Gestisce la modalit&#xe0; check (<code>--check</code>)","children":[],"payload":{"tag":"li","lines":"3522,3523"}},{"content":"Restituisce risultato con messaggio e flag <code>changed</code>","children":[],"payload":{"tag":"li","lines":"3523,3525"}}],"payload":{"tag":"h3","lines":"3517,3518"}},{"content":"Esercizio","children":[],"payload":{"tag":"h3","lines":"3525,3526"}}],"payload":{"tag":"h2","lines":"3511,3512"}},{"content":"Capitolo 3: Callback plugin","children":[{"content":"Che cos&#x2019;&#xe8; un callback plugin?","children":[],"payload":{"tag":"h3","lines":"3533,3534"}},{"content":"Come funziona <code>simple_logger.py</code>?","children":[],"payload":{"tag":"h3","lines":"3537,3538"}},{"content":"Esercizio","children":[],"payload":{"tag":"h3","lines":"3541,3542"}}],"payload":{"tag":"h2","lines":"3531,3532"}},{"content":"Capitolo 4: Filter plugin","children":[{"content":"Che cos&#x2019;&#xe8; un filtro Jinja?","children":[],"payload":{"tag":"h3","lines":"3549,3550"}},{"content":"Come funziona <code>my_filters.py</code>?","children":[],"payload":{"tag":"h3","lines":"3553,3554"}},{"content":"Esercizio","children":[],"payload":{"tag":"h3","lines":"3557,3558"}}],"payload":{"tag":"h2","lines":"3547,3548"}},{"content":"Capitolo 5: Lookup plugin","children":[{"content":"Che cos&#x2019;&#xe8; un lookup plugin?","children":[],"payload":{"tag":"h3","lines":"3565,3566"}},{"content":"Come funziona <code>my_lookup.py</code>?","children":[],"payload":{"tag":"h3","lines":"3569,3570"}},{"content":"Esercizio","children":[],"payload":{"tag":"h3","lines":"3573,3574"}}],"payload":{"tag":"h2","lines":"3563,3564"}},{"content":"Capitolo 6: Integrazione e test","children":[{"content":"Obiettivo","children":[{"content":"Usa il filtro <code>shout</code> con il testo letto dal lookup.","children":[],"payload":{"tag":"li","lines":"3585,3586"}},{"content":"Esegui il modulo in modalit&#xe0; check.","children":[],"payload":{"tag":"li","lines":"3586,3587"}},{"content":"Osserva i messaggi prodotti dal callback plugin.","children":[],"payload":{"tag":"li","lines":"3587,3589"}}],"payload":{"tag":"h3","lines":"3581,3582"}}],"payload":{"tag":"h2","lines":"3579,3580"}},{"content":"Capitolo 7: Esercizi avanzati","children":[{"content":"Esercizio 1","children":[],"payload":{"tag":"h3","lines":"3593,3594"}},{"content":"Esercizio 2","children":[],"payload":{"tag":"h3","lines":"3597,3598"}},{"content":"Esercizio 3","children":[],"payload":{"tag":"h3","lines":"3601,3602"}},{"content":"Esercizio 4","children":[],"payload":{"tag":"h3","lines":"3605,3606"}}],"payload":{"tag":"h2","lines":"3591,3592"}}],"payload":{"tag":"h1","lines":"3477,3478"}}]},null)</script>
</body>
</html>
